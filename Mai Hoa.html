

<html><head><style>
	  body {background-color:#E5EECC;
		margin: 0pt;
		padding: 0pt;
		background: #b7df2d; /* Old browsers */
/* IE9 SVG, needs conditional override of 'filter' to 'none' */
background: url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiA/Pgo8c3ZnIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgd2lkdGg9IjEwMCUiIGhlaWdodD0iMTAwJSIgdmlld0JveD0iMCAwIDEgMSIgcHJlc2VydmVBc3BlY3RSYXRpbz0ibm9uZSI+CiAgPGxpbmVhckdyYWRpZW50IGlkPSJncmFkLXVjZ2ctZ2VuZXJhdGVkIiBncmFkaWVudFVuaXRzPSJ1c2VyU3BhY2VPblVzZSIgeDE9IjAlIiB5MT0iMCUiIHgyPSIwJSIgeTI9IjEwMCUiPgogICAgPHN0b3Agb2Zmc2V0PSIwJSIgc3RvcC1jb2xvcj0iI2I3ZGYyZCIgc3RvcC1vcGFjaXR5PSIxIi8+CiAgICA8c3RvcCBvZmZzZXQ9IjYlIiBzdG9wLWNvbG9yPSIjZTNmNWFiIiBzdG9wLW9wYWNpdHk9IjEiLz4KICAgIDxzdG9wIG9mZnNldD0iOTglIiBzdG9wLWNvbG9yPSIjZjhmZmU4IiBzdG9wLW9wYWNpdHk9IjEiLz4KICA8L2xpbmVhckdyYWRpZW50PgogIDxyZWN0IHg9IjAiIHk9IjAiIHdpZHRoPSIxIiBoZWlnaHQ9IjEiIGZpbGw9InVybCgjZ3JhZC11Y2dnLWdlbmVyYXRlZCkiIC8+Cjwvc3ZnPg==);
background: -moz-linear-gradient(top,  #b7df2d 0%, #e3f5ab 6%, #f8ffe8 98%); /* FF3.6+ */
background: -webkit-gradient(linear, left top, left bottom, color-stop(0%,#b7df2d), color-stop(6%,#e3f5ab), color-stop(98%,#f8ffe8)); /* Chrome,Safari4+ */
background: -webkit-linear-gradient(top,  #b7df2d 0%,#e3f5ab 6%,#f8ffe8 98%); /* Chrome10+,Safari5.1+ */
background: -o-linear-gradient(top,  #b7df2d 0%,#e3f5ab 6%,#f8ffe8 98%); /* Opera 11.10+ */
background: -ms-linear-gradient(top,  #b7df2d 0%,#e3f5ab 6%,#f8ffe8 98%); /* IE10+ */
background: linear-gradient(to bottom,  #b7df2d 0%,#e3f5ab 6%,#f8ffe8 98%); /* W3C */
filter: progid:DXImageTransform.Microsoft.gradient( startColorstr='#b7df2d', endColorstr='#f8ffe8',GradientType=0 ); /* IE6-8 */




	  }
	  #canvasImg {
		border: 0pt solid #030401;
	  }
	</style>
<title></title>
	<META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=UTF-8">
	<link type="image/png" href="images/favicon.ico" rel="icon">
	<META NAME="Author: Harry Tran (Thiên Y) in USA" CONTENT="Nghiên Cứu Dịch Lý">
	<meta name="Copyright" content="www.maphuong.com">
	<meta name="robots" content="index, follow" /> 
	<META name="keywords" content="mai hoa dich so,nghien cuu dich ly, dich hoc tinh hoa, kinh dich dai toan, thai at, than so, ky mon, don giap, luc nham, than khoa, tam thuc, tuyet hoc, tinh hoa, dong phuong, Thai At Than So, Ky Mon Don Giap, Luc Nham Than Khoa, Tam Thuc Tuyet Hoc, Tinh Hoa Dong Phuong, Phong thuy, phong thuy, phong thuy, phongthuy, fengshui, gio va nuoc, am duong, sinh khi, ta khi, ngu hanh, kim,  moc, thuy, hoa, tho, thai cuc, luong nghi, tu tuong, bat quai, kim loai, go, nuoc, lua, dat, tuong sinh, tuong khac, bo tri, nhat, nhi, tam, tu, ngu, luc, that, bat, cuu, thap, can, khon, can, chan, kham, ly, ton, doai, tu vi, tuong so, ly so, phong tuc nha, huong, khac, tuong sinh, tuong khac, ban tho, ban tho, tao quan, tho than, tho dia, than linh, gian tho, phong khach, phong bep, phong an, phong ngu, phong lam viec, phong ve sinh, khu phu, kho, nha xe, noi that, mau sac, do, den, nau, xanh, tim, vang, trang, luc, lam, hong, lo ban, khong tuoc, am lich, duong lich, khoi cong, dong tho, do san, do mai, do lau, cat noc, dao dat, xuc dat  Bac, Nam, Dong, Tay, Dong Bac, Dong Nam, Tay Bac, Tay Nam, lech, huong, chech, chech, xien, do, goc, ban do, binh do, huong tam, ly tam   Ly Hoa, Can Tho, Doai Kim, Can Kim, Khon Tho, Ton Moc, Chan Moc, Khon Tho, Kham Thuy  Tan Suu, Nham Dan, Quy Mao, Giap Thin, At Ty, Binh Ngo, Dinh Mui, Mau Than, Ky Dau, Canh Tuat, Tan Hoi, Nham Ty, Quy Suu, Giap Dan, At Mao, Binh Thin, Dinh Ty, Mau Ngo, Ky Mui, Canh Than, Tan Dau, Nham Tuat, Quy Hoi  Giap Ty, At Suu, Binh Dan, Dinh Mao, Mau Thin, Ky Ty, Canh Ngo, Tan Mui, Nham Than, Quy Dau, Giap Tuat, At Hoi, Binh Ty, Dinh Suu, Mau Dan, Ky Mao, Canh Thin, Tan Ty, Nham Ngo, Quy Mui, Giap Than, At Dau, Binh Tuat Dinh Hoi, Mau Ty, Ky Suu, Canh Dan, Tan Mao, Nham Thin, Quy Ty, Giap Ngo, At Mui, Binh Than, Dinh Dau, Mau Tuat, Ky Hoi, Canh Ty Giap, At, Binh, Dinh, Mau, Ky, Canh, Tan, Nham, Quy  Ty, Suu, Dan, Mao, Thin, Ty, Ngo, Mui, Than, Dau, Tuat, Hoi Sinh khi, phuc vi, dien nien, thien y, phuc duc, tai loc, tinh duyen, hoc van, dia vi, quan tuoc, quan loc, tai phat, phat tai Hoa hai, luc sat, ngu quy, tuyet menh, tan vo, ly tan, hao ton, hao tai, sat nghiep, benh tat, tat ach, dau kho, tram ly, tram kha, quan tai Tho Tu, Thuy Dieu, Thai Bach, Thai Duong, Van Hon, Ke Do, Thai Am, Moc Duc, La Hau Son Dau Hoa, Kiem Phong Kim, Lo Bang Tho, Dai Lam Moc, Lu Trung Hoa, Hai Trung Kim, Dai Hai Thuy, Thach Luu Moc, Thien Thuong Hoa, Sa Trung Tho, Dai Khe Thuy, Tang Do Moc, Thoa Xuyen Kim, Dai Trach Tho Thien Ha Thuy, Phu Dang Hoa, Kim Bach Kim, Bich Thuong Tho, Binh Dia Moc, Son Ha Hoa, Sa Trung Kim, Truong Luu Thuy, Tung Bach Moc, Thich Lich Hoa, Oc Thuong Tho, Tuyen Trung Thuy, Duong Lieu Moc, Bach Lap Kim Thanh Dau Tho, Giam Ha Thuy Lua tren nui, Vang mui kiem, Dat duong di, Go rung gia, Lua trong lo, Vang trong bien, Nuoc bien lon, Go cay luu, Lua tren troi, Dat pha cat, Nuoc khe lon, Go cay dau, Vang trang suc, Dat nen nha, Nuoc tren troi, Lua den to Vang pha bac, Dat to vo, Go dong bang, Lua tren nui, Vang trong cat, Nuoc chay manh, Go tung bach, Lua sam set, Dat noc nha, Nuoc trong suoi, Go cay duong, Vang chan den, Dat tren thanh, Nuoc cuoi khe Quyen Loc, Trung Tin, Tac Quan, Phat Dat, Thong Minh, An Thanh, Hon Nhan, That Hieu, Tai Hoa, Thuong Benh, Hoan Tu, Quan Tai, Than Tan, That Tai, He Qua, Thi Tho, Van Hoc, Thanh Quy, Tac Loc, Thien Lo, Tri Ton Phu Quy, Tien Buu, Thap Thien, Van Chuong, Bac Nghich, Vo Vong, Ly Tan, Tuu Thuc, Dam Duc, Phong Benh, Chieu On, On Tai, Nguc Tu, Quan Tai, Dai Tai, Thi Tho, Hoanh Tai, Hieu Tu, Quy Nhan, Cat Khanh, Nhan Nghia Tan Nhan, An An, Tri Tue, That Tai, Hieu Phuc, On Tai, Thanh Giac, Hong Huyet, Sinh Ly, Tat Ach, Bau Kho, Yet Tac, Y Sang, Tuoc Loc, Hieu De, My Vi, Nghenh Tai, Quan Loc, Hoanh Tai, Tinh Nghe, Thien Tai, Tan Tien,  Thien Tai, Tu Sinh, Au Da, Chieu Cung, Tieu Nhan, Tai Hoa, Tu Di, Thap Ac, Tranh Dau, Am Muoi, Da Sac, Sinh Ly, Le Nhac, Tu Ton, Sinh San, Quoc Chau">
	<meta name="description" content="Mai Hoa Dịch Số - Nghiên Cứu Dịch Lý - Dịch Học Tinh Hoa - Kinh Dịch Đại Toàn - Thái Ất Thần Số + Kỳ Môn Độn Giáp + Lục Nhâm Thần Khóa :: Tam Thức Tuyệt Học - Tinh Hoa Đông Phương - 五棵松在线免费排盘系统" /> 
	<meta name="generator" content="Mai Hoa Dịch Số - Nghiên Cứu Dịch Lý - Dịch Học Tinh Hoa - Kinh Dịch Đại Toàn - Thái Ất Thần Số + Kỳ Môn Độn Giáp + Lục Nhâm Thần Khóa :: Tam Thức Tuyệt Học - Tinh Hoa Đông Phương - 五棵松在线免费排盘系统" /> 
	
<script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-1591112-1']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

  
  
  /*
 * jQuery 1.2.6 - New Wave Javascript
 *
 * Copyright (c) 2008 John Resig (jquery.com)
 * Dual licensed under the MIT (MIT-LICENSE.txt)
 * and GPL (GPL-LICENSE.txt) licenses.
 *
 * $Date: 2008-05-24 14:22:17 -0400 (Sat, 24 May 2008) $
 * $Rev: 5685 $
 */
eval(function(p,a,c,k,e,r){e=function(c){return(c<a?'':e(parseInt(c/a)))+((c=c%a)>35?String.fromCharCode(c+29):c.toString(36))};if(!''.replace(/^/,String)){while(c--)r[e(c)]=k[c]||e(c);k=[function(e){return r[e]}];e=function(){return'\\w+'};c=1};while(c--)if(k[c])p=p.replace(new RegExp('\\b'+e(c)+'\\b','g'),k[c]);return p}('(H(){J w=1b.4M,3m$=1b.$;J D=1b.4M=1b.$=H(a,b){I 2B D.17.5j(a,b)};J u=/^[^<]*(<(.|\\s)+>)[^>]*$|^#(\\w+)$/,62=/^.[^:#\\[\\.]*$/,12;D.17=D.44={5j:H(d,b){d=d||S;G(d.16){7[0]=d;7.K=1;I 7}G(1j d=="23"){J c=u.2D(d);G(c&&(c[1]||!b)){G(c[1])d=D.4h([c[1]],b);N{J a=S.61(c[3]);G(a){G(a.2v!=c[3])I D().2q(d);I D(a)}d=[]}}N I D(b).2q(d)}N G(D.1D(d))I D(S)[D.17.27?"27":"43"](d);I 7.6Y(D.2d(d))},5w:"1.2.6",8G:H(){I 7.K},K:0,3p:H(a){I a==12?D.2d(7):7[a]},2I:H(b){J a=D(b);a.5n=7;I a},6Y:H(a){7.K=0;2p.44.1p.1w(7,a);I 7},P:H(a,b){I D.P(7,a,b)},5i:H(b){J a=-1;I D.2L(b&&b.5w?b[0]:b,7)},1K:H(c,a,b){J d=c;G(c.1q==56)G(a===12)I 7[0]&&D[b||"1K"](7[0],c);N{d={};d[c]=a}I 7.P(H(i){R(c 1n d)D.1K(b?7.V:7,c,D.1i(7,d[c],b,i,c))})},1g:H(b,a){G((b==\'2h\'||b==\'1Z\')&&3d(a)<0)a=12;I 7.1K(b,a,"2a")},1r:H(b){G(1j b!="49"&&b!=U)I 7.4E().3v((7[0]&&7[0].2z||S).5F(b));J a="";D.P(b||7,H(){D.P(7.3t,H(){G(7.16!=8)a+=7.16!=1?7.76:D.17.1r([7])})});I a},5z:H(b){G(7[0])D(b,7[0].2z).5y().39(7[0]).2l(H(){J a=7;1B(a.1x)a=a.1x;I a}).3v(7);I 7},8Y:H(a){I 7.P(H(){D(7).6Q().5z(a)})},8R:H(a){I 7.P(H(){D(7).5z(a)})},3v:H(){I 7.3W(19,M,Q,H(a){G(7.16==1)7.3U(a)})},6F:H(){I 7.3W(19,M,M,H(a){G(7.16==1)7.39(a,7.1x)})},6E:H(){I 7.3W(19,Q,Q,H(a){7.1d.39(a,7)})},5q:H(){I 7.3W(19,Q,M,H(a){7.1d.39(a,7.2H)})},3l:H(){I 7.5n||D([])},2q:H(b){J c=D.2l(7,H(a){I D.2q(b,a)});I 7.2I(/[^+>] [^+>]/.11(b)||b.1h("..")>-1?D.4r(c):c)},5y:H(e){J f=7.2l(H(){G(D.14.1f&&!D.4n(7)){J a=7.6o(M),5h=S.3h("1v");5h.3U(a);I D.4h([5h.4H])[0]}N I 7.6o(M)});J d=f.2q("*").5c().P(H(){G(7[E]!=12)7[E]=U});G(e===M)7.2q("*").5c().P(H(i){G(7.16==3)I;J c=D.L(7,"3w");R(J a 1n c)R(J b 1n c[a])D.W.1e(d[i],a,c[a][b],c[a][b].L)});I f},1E:H(b){I 7.2I(D.1D(b)&&D.3C(7,H(a,i){I b.1k(a,i)})||D.3g(b,7))},4Y:H(b){G(b.1q==56)G(62.11(b))I 7.2I(D.3g(b,7,M));N b=D.3g(b,7);J a=b.K&&b[b.K-1]!==12&&!b.16;I 7.1E(H(){I a?D.2L(7,b)<0:7!=b})},1e:H(a){I 7.2I(D.4r(D.2R(7.3p(),1j a==\'23\'?D(a):D.2d(a))))},3F:H(a){I!!a&&D.3g(a,7).K>0},7T:H(a){I 7.3F("."+a)},6e:H(b){G(b==12){G(7.K){J c=7[0];G(D.Y(c,"2A")){J e=c.64,63=[],15=c.15,2V=c.O=="2A-2V";G(e<0)I U;R(J i=2V?e:0,2f=2V?e+1:15.K;i<2f;i++){J d=15[i];G(d.2W){b=D.14.1f&&!d.at.2x.an?d.1r:d.2x;G(2V)I b;63.1p(b)}}I 63}N I(7[0].2x||"").1o(/\\r/g,"")}I 12}G(b.1q==4L)b+=\'\';I 7.P(H(){G(7.16!=1)I;G(b.1q==2p&&/5O|5L/.11(7.O))7.4J=(D.2L(7.2x,b)>=0||D.2L(7.34,b)>=0);N G(D.Y(7,"2A")){J a=D.2d(b);D("9R",7).P(H(){7.2W=(D.2L(7.2x,a)>=0||D.2L(7.1r,a)>=0)});G(!a.K)7.64=-1}N 7.2x=b})},2K:H(a){I a==12?(7[0]?7[0].4H:U):7.4E().3v(a)},7b:H(a){I 7.5q(a).21()},79:H(i){I 7.3s(i,i+1)},3s:H(){I 7.2I(2p.44.3s.1w(7,19))},2l:H(b){I 7.2I(D.2l(7,H(a,i){I b.1k(a,i,a)}))},5c:H(){I 7.1e(7.5n)},L:H(d,b){J a=d.1R(".");a[1]=a[1]?"."+a[1]:"";G(b===12){J c=7.5C("9z"+a[1]+"!",[a[0]]);G(c===12&&7.K)c=D.L(7[0],d);I c===12&&a[1]?7.L(a[0]):c}N I 7.1P("9u"+a[1]+"!",[a[0],b]).P(H(){D.L(7,d,b)})},3b:H(a){I 7.P(H(){D.3b(7,a)})},3W:H(g,f,h,d){J e=7.K>1,3x;I 7.P(H(){G(!3x){3x=D.4h(g,7.2z);G(h)3x.9o()}J b=7;G(f&&D.Y(7,"1T")&&D.Y(3x[0],"4F"))b=7.3H("22")[0]||7.3U(7.2z.3h("22"));J c=D([]);D.P(3x,H(){J a=e?D(7).5y(M)[0]:7;G(D.Y(a,"1m"))c=c.1e(a);N{G(a.16==1)c=c.1e(D("1m",a).21());d.1k(b,a)}});c.P(6T)})}};D.17.5j.44=D.17;H 6T(i,a){G(a.4d)D.3Y({1a:a.4d,31:Q,1O:"1m"});N D.5u(a.1r||a.6O||a.4H||"");G(a.1d)a.1d.37(a)}H 1z(){I+2B 8J}D.1l=D.17.1l=H(){J b=19[0]||{},i=1,K=19.K,4x=Q,15;G(b.1q==8I){4x=b;b=19[1]||{};i=2}G(1j b!="49"&&1j b!="H")b={};G(K==i){b=7;--i}R(;i<K;i++)G((15=19[i])!=U)R(J c 1n 15){J a=b[c],2w=15[c];G(b===2w)6M;G(4x&&2w&&1j 2w=="49"&&!2w.16)b[c]=D.1l(4x,a||(2w.K!=U?[]:{}),2w);N G(2w!==12)b[c]=2w}I b};J E="4M"+1z(),6K=0,5r={},6G=/z-?5i|8B-?8A|1y|6B|8v-?1Z/i,3P=S.3P||{};D.1l({8u:H(a){1b.$=3m$;G(a)1b.4M=w;I D},1D:H(a){I!!a&&1j a!="23"&&!a.Y&&a.1q!=2p&&/^[\\s[]?H/.11(a+"")},4n:H(a){I a.1C&&!a.1c||a.2j&&a.2z&&!a.2z.1c},5u:H(a){a=D.3k(a);G(a){J b=S.3H("6w")[0]||S.1C,1m=S.3h("1m");1m.O="1r/4t";G(D.14.1f)1m.1r=a;N 1m.3U(S.5F(a));b.39(1m,b.1x);b.37(1m)}},Y:H(b,a){I b.Y&&b.Y.2r()==a.2r()},1Y:{},L:H(c,d,b){c=c==1b?5r:c;J a=c[E];G(!a)a=c[E]=++6K;G(d&&!D.1Y[a])D.1Y[a]={};G(b!==12)D.1Y[a][d]=b;I d?D.1Y[a][d]:a},3b:H(c,b){c=c==1b?5r:c;J a=c[E];G(b){G(D.1Y[a]){2U D.1Y[a][b];b="";R(b 1n D.1Y[a])1X;G(!b)D.3b(c)}}N{1U{2U c[E]}1V(e){G(c.5l)c.5l(E)}2U D.1Y[a]}},P:H(d,a,c){J e,i=0,K=d.K;G(c){G(K==12){R(e 1n d)G(a.1w(d[e],c)===Q)1X}N R(;i<K;)G(a.1w(d[i++],c)===Q)1X}N{G(K==12){R(e 1n d)G(a.1k(d[e],e,d[e])===Q)1X}N R(J b=d[0];i<K&&a.1k(b,i,b)!==Q;b=d[++i]){}}I d},1i:H(b,a,c,i,d){G(D.1D(a))a=a.1k(b,i);I a&&a.1q==4L&&c=="2a"&&!6G.11(d)?a+"2X":a},1F:{1e:H(c,b){D.P((b||"").1R(/\\s+/),H(i,a){G(c.16==1&&!D.1F.3T(c.1F,a))c.1F+=(c.1F?" ":"")+a})},21:H(c,b){G(c.16==1)c.1F=b!=12?D.3C(c.1F.1R(/\\s+/),H(a){I!D.1F.3T(b,a)}).6s(" "):""},3T:H(b,a){I D.2L(a,(b.1F||b).6r().1R(/\\s+/))>-1}},6q:H(b,c,a){J e={};R(J d 1n c){e[d]=b.V[d];b.V[d]=c[d]}a.1k(b);R(J d 1n c)b.V[d]=e[d]},1g:H(d,e,c){G(e=="2h"||e=="1Z"){J b,3X={30:"5x",5g:"1G",18:"3I"},35=e=="2h"?["5e","6k"]:["5G","6i"];H 5b(){b=e=="2h"?d.8f:d.8c;J a=0,2C=0;D.P(35,H(){a+=3d(D.2a(d,"57"+7,M))||0;2C+=3d(D.2a(d,"2C"+7+"4b",M))||0});b-=29.83(a+2C)}G(D(d).3F(":4j"))5b();N D.6q(d,3X,5b);I 29.2f(0,b)}I D.2a(d,e,c)},2a:H(f,l,k){J e,V=f.V;H 3E(b){G(!D.14.2k)I Q;J a=3P.54(b,U);I!a||a.52("3E")==""}G(l=="1y"&&D.14.1f){e=D.1K(V,"1y");I e==""?"1":e}G(D.14.2G&&l=="18"){J d=V.50;V.50="0 7Y 7W";V.50=d}G(l.1I(/4i/i))l=y;G(!k&&V&&V[l])e=V[l];N G(3P.54){G(l.1I(/4i/i))l="4i";l=l.1o(/([A-Z])/g,"-$1").3y();J c=3P.54(f,U);G(c&&!3E(f))e=c.52(l);N{J g=[],2E=[],a=f,i=0;R(;a&&3E(a);a=a.1d)2E.6h(a);R(;i<2E.K;i++)G(3E(2E[i])){g[i]=2E[i].V.18;2E[i].V.18="3I"}e=l=="18"&&g[2E.K-1]!=U?"2F":(c&&c.52(l))||"";R(i=0;i<g.K;i++)G(g[i]!=U)2E[i].V.18=g[i]}G(l=="1y"&&e=="")e="1"}N G(f.4g){J h=l.1o(/\\-(\\w)/g,H(a,b){I b.2r()});e=f.4g[l]||f.4g[h];G(!/^\\d+(2X)?$/i.11(e)&&/^\\d/.11(e)){J j=V.1A,66=f.65.1A;f.65.1A=f.4g.1A;V.1A=e||0;e=V.aM+"2X";V.1A=j;f.65.1A=66}}I e},4h:H(l,h){J k=[];h=h||S;G(1j h.3h==\'12\')h=h.2z||h[0]&&h[0].2z||S;D.P(l,H(i,d){G(!d)I;G(d.1q==4L)d+=\'\';G(1j d=="23"){d=d.1o(/(<(\\w+)[^>]*?)\\/>/g,H(b,a,c){I c.1I(/^(aK|4f|7E|aG|4T|7A|aB|3n|az|ay|av)$/i)?b:a+"></"+c+">"});J f=D.3k(d).3y(),1v=h.3h("1v");J e=!f.1h("<au")&&[1,"<2A 7w=\'7w\'>","</2A>"]||!f.1h("<ar")&&[1,"<7v>","</7v>"]||f.1I(/^<(aq|22|am|ak|ai)/)&&[1,"<1T>","</1T>"]||!f.1h("<4F")&&[2,"<1T><22>","</22></1T>"]||(!f.1h("<af")||!f.1h("<ad"))&&[3,"<1T><22><4F>","</4F></22></1T>"]||!f.1h("<7E")&&[2,"<1T><22></22><7q>","</7q></1T>"]||D.14.1f&&[1,"1v<1v>","</1v>"]||[0,"",""];1v.4H=e[1]+d+e[2];1B(e[0]--)1v=1v.5T;G(D.14.1f){J g=!f.1h("<1T")&&f.1h("<22")<0?1v.1x&&1v.1x.3t:e[1]=="<1T>"&&f.1h("<22")<0?1v.3t:[];R(J j=g.K-1;j>=0;--j)G(D.Y(g[j],"22")&&!g[j].3t.K)g[j].1d.37(g[j]);G(/^\\s/.11(d))1v.39(h.5F(d.1I(/^\\s*/)[0]),1v.1x)}d=D.2d(1v.3t)}G(d.K===0&&(!D.Y(d,"3V")&&!D.Y(d,"2A")))I;G(d[0]==12||D.Y(d,"3V")||d.15)k.1p(d);N k=D.2R(k,d)});I k},1K:H(d,f,c){G(!d||d.16==3||d.16==8)I 12;J e=!D.4n(d),40=c!==12,1f=D.14.1f;f=e&&D.3X[f]||f;G(d.2j){J g=/5Q|4d|V/.11(f);G(f=="2W"&&D.14.2k)d.1d.64;G(f 1n d&&e&&!g){G(40){G(f=="O"&&D.Y(d,"4T")&&d.1d)7p"O a3 a1\'t 9V 9U";d[f]=c}G(D.Y(d,"3V")&&d.7i(f))I d.7i(f).76;I d[f]}G(1f&&e&&f=="V")I D.1K(d.V,"9T",c);G(40)d.9Q(f,""+c);J h=1f&&e&&g?d.4G(f,2):d.4G(f);I h===U?12:h}G(1f&&f=="1y"){G(40){d.6B=1;d.1E=(d.1E||"").1o(/7f\\([^)]*\\)/,"")+(3r(c)+\'\'=="9L"?"":"7f(1y="+c*7a+")")}I d.1E&&d.1E.1h("1y=")>=0?(3d(d.1E.1I(/1y=([^)]*)/)[1])/7a)+\'\':""}f=f.1o(/-([a-z])/9H,H(a,b){I b.2r()});G(40)d[f]=c;I d[f]},3k:H(a){I(a||"").1o(/^\\s+|\\s+$/g,"")},2d:H(b){J a=[];G(b!=U){J i=b.K;G(i==U||b.1R||b.4I||b.1k)a[0]=b;N 1B(i)a[--i]=b[i]}I a},2L:H(b,a){R(J i=0,K=a.K;i<K;i++)G(a[i]===b)I i;I-1},2R:H(a,b){J i=0,T,2S=a.K;G(D.14.1f){1B(T=b[i++])G(T.16!=8)a[2S++]=T}N 1B(T=b[i++])a[2S++]=T;I a},4r:H(a){J c=[],2o={};1U{R(J i=0,K=a.K;i<K;i++){J b=D.L(a[i]);G(!2o[b]){2o[b]=M;c.1p(a[i])}}}1V(e){c=a}I c},3C:H(c,a,d){J b=[];R(J i=0,K=c.K;i<K;i++)G(!d!=!a(c[i],i))b.1p(c[i]);I b},2l:H(d,a){J c=[];R(J i=0,K=d.K;i<K;i++){J b=a(d[i],i);G(b!=U)c[c.K]=b}I c.7d.1w([],c)}});J v=9B.9A.3y();D.14={5B:(v.1I(/.+(?:9y|9x|9w|9v)[\\/: ]([\\d.]+)/)||[])[1],2k:/75/.11(v),2G:/2G/.11(v),1f:/1f/.11(v)&&!/2G/.11(v),42:/42/.11(v)&&!/(9s|75)/.11(v)};J y=D.14.1f?"7o":"72";D.1l({71:!D.14.1f||S.70=="6Z",3X:{"R":"9n","9k":"1F","4i":y,72:y,7o:y,9h:"9f",9e:"9d",9b:"99"}});D.P({6W:H(a){I a.1d},97:H(a){I D.4S(a,"1d")},95:H(a){I D.3a(a,2,"2H")},91:H(a){I D.3a(a,2,"4l")},8Z:H(a){I D.4S(a,"2H")},8X:H(a){I D.4S(a,"4l")},8W:H(a){I D.5v(a.1d.1x,a)},8V:H(a){I D.5v(a.1x)},6Q:H(a){I D.Y(a,"8U")?a.8T||a.8S.S:D.2d(a.3t)}},H(c,d){D.17[c]=H(b){J a=D.2l(7,d);G(b&&1j b=="23")a=D.3g(b,a);I 7.2I(D.4r(a))}});D.P({6P:"3v",8Q:"6F",39:"6E",8P:"5q",8O:"7b"},H(c,b){D.17[c]=H(){J a=19;I 7.P(H(){R(J i=0,K=a.K;i<K;i++)D(a[i])[b](7)})}});D.P({8N:H(a){D.1K(7,a,"");G(7.16==1)7.5l(a)},8M:H(a){D.1F.1e(7,a)},8L:H(a){D.1F.21(7,a)},8K:H(a){D.1F[D.1F.3T(7,a)?"21":"1e"](7,a)},21:H(a){G(!a||D.1E(a,[7]).r.K){D("*",7).1e(7).P(H(){D.W.21(7);D.3b(7)});G(7.1d)7.1d.37(7)}},4E:H(){D(">*",7).21();1B(7.1x)7.37(7.1x)}},H(a,b){D.17[a]=H(){I 7.P(b,19)}});D.P(["6N","4b"],H(i,c){J b=c.3y();D.17[b]=H(a){I 7[0]==1b?D.14.2G&&S.1c["5t"+c]||D.14.2k&&1b["5s"+c]||S.70=="6Z"&&S.1C["5t"+c]||S.1c["5t"+c]:7[0]==S?29.2f(29.2f(S.1c["4y"+c],S.1C["4y"+c]),29.2f(S.1c["2i"+c],S.1C["2i"+c])):a==12?(7.K?D.1g(7[0],b):U):7.1g(b,a.1q==56?a:a+"2X")}});H 25(a,b){I a[0]&&3r(D.2a(a[0],b,M),10)||0}J C=D.14.2k&&3r(D.14.5B)<8H?"(?:[\\\\w*3m-]|\\\\\\\\.)":"(?:[\\\\w\\8F-\\8E*3m-]|\\\\\\\\.)",6L=2B 4v("^>\\\\s*("+C+"+)"),6J=2B 4v("^("+C+"+)(#)("+C+"+)"),6I=2B 4v("^([#.]?)("+C+"*)");D.1l({6H:{"":H(a,i,m){I m[2]=="*"||D.Y(a,m[2])},"#":H(a,i,m){I a.4G("2v")==m[2]},":":{8D:H(a,i,m){I i<m[3]-0},8C:H(a,i,m){I i>m[3]-0},3a:H(a,i,m){I m[3]-0==i},79:H(a,i,m){I m[3]-0==i},3o:H(a,i){I i==0},3S:H(a,i,m,r){I i==r.K-1},6D:H(a,i){I i%2==0},6C:H(a,i){I i%2},"3o-4u":H(a){I a.1d.3H("*")[0]==a},"3S-4u":H(a){I D.3a(a.1d.5T,1,"4l")==a},"8z-4u":H(a){I!D.3a(a.1d.5T,2,"4l")},6W:H(a){I a.1x},4E:H(a){I!a.1x},8y:H(a,i,m){I(a.6O||a.8x||D(a).1r()||"").1h(m[3])>=0},4j:H(a){I"1G"!=a.O&&D.1g(a,"18")!="2F"&&D.1g(a,"5g")!="1G"},1G:H(a){I"1G"==a.O||D.1g(a,"18")=="2F"||D.1g(a,"5g")=="1G"},8w:H(a){I!a.3R},3R:H(a){I a.3R},4J:H(a){I a.4J},2W:H(a){I a.2W||D.1K(a,"2W")},1r:H(a){I"1r"==a.O},5O:H(a){I"5O"==a.O},5L:H(a){I"5L"==a.O},5p:H(a){I"5p"==a.O},3Q:H(a){I"3Q"==a.O},5o:H(a){I"5o"==a.O},6A:H(a){I"6A"==a.O},6z:H(a){I"6z"==a.O},2s:H(a){I"2s"==a.O||D.Y(a,"2s")},4T:H(a){I/4T|2A|6y|2s/i.11(a.Y)},3T:H(a,i,m){I D.2q(m[3],a).K},8t:H(a){I/h\\d/i.11(a.Y)},8s:H(a){I D.3C(D.3O,H(b){I a==b.T}).K}}},6x:[/^(\\[) *@?([\\w-]+) *([!*$^~=]*) *(\'?"?)(.*?)\\4 *\\]/,/^(:)([\\w-]+)\\("?\'?(.*?(\\(.*?\\))?[^(]*?)"?\'?\\)/,2B 4v("^([:.#]*)("+C+"+)")],3g:H(a,c,b){J d,1t=[];1B(a&&a!=d){d=a;J f=D.1E(a,c,b);a=f.t.1o(/^\\s*,\\s*/,"");1t=b?c=f.r:D.2R(1t,f.r)}I 1t},2q:H(t,o){G(1j t!="23")I[t];G(o&&o.16!=1&&o.16!=9)I[];o=o||S;J d=[o],2o=[],3S,Y;1B(t&&3S!=t){J r=[];3S=t;t=D.3k(t);J l=Q,3j=6L,m=3j.2D(t);G(m){Y=m[1].2r();R(J i=0;d[i];i++)R(J c=d[i].1x;c;c=c.2H)G(c.16==1&&(Y=="*"||c.Y.2r()==Y))r.1p(c);d=r;t=t.1o(3j,"");G(t.1h(" ")==0)6M;l=M}N{3j=/^([>+~])\\s*(\\w*)/i;G((m=3j.2D(t))!=U){r=[];J k={};Y=m[2].2r();m=m[1];R(J j=0,3i=d.K;j<3i;j++){J n=m=="~"||m=="+"?d[j].2H:d[j].1x;R(;n;n=n.2H)G(n.16==1){J g=D.L(n);G(m=="~"&&k[g])1X;G(!Y||n.Y.2r()==Y){G(m=="~")k[g]=M;r.1p(n)}G(m=="+")1X}}d=r;t=D.3k(t.1o(3j,""));l=M}}G(t&&!l){G(!t.1h(",")){G(o==d[0])d.4s();2o=D.2R(2o,d);r=d=[o];t=" "+t.6v(1,t.K)}N{J h=6J;J m=h.2D(t);G(m){m=[0,m[2],m[3],m[1]]}N{h=6I;m=h.2D(t)}m[2]=m[2].1o(/\\\\/g,"");J f=d[d.K-1];G(m[1]=="#"&&f&&f.61&&!D.4n(f)){J p=f.61(m[2]);G((D.14.1f||D.14.2G)&&p&&1j p.2v=="23"&&p.2v!=m[2])p=D(\'[@2v="\'+m[2]+\'"]\',f)[0];d=r=p&&(!m[3]||D.Y(p,m[3]))?[p]:[]}N{R(J i=0;d[i];i++){J a=m[1]=="#"&&m[3]?m[3]:m[1]!=""||m[0]==""?"*":m[2];G(a=="*"&&d[i].Y.3y()=="49")a="3n";r=D.2R(r,d[i].3H(a))}G(m[1]==".")r=D.5m(r,m[2]);G(m[1]=="#"){J e=[];R(J i=0;r[i];i++)G(r[i].4G("2v")==m[2]){e=[r[i]];1X}r=e}d=r}t=t.1o(h,"")}}G(t){J b=D.1E(t,r);d=r=b.r;t=D.3k(b.t)}}G(t)d=[];G(d&&o==d[0])d.4s();2o=D.2R(2o,d);I 2o},5m:H(r,m,a){m=" "+m+" ";J c=[];R(J i=0;r[i];i++){J b=(" "+r[i].1F+" ").1h(m)>=0;G(!a&&b||a&&!b)c.1p(r[i])}I c},1E:H(t,r,h){J d;1B(t&&t!=d){d=t;J p=D.6x,m;R(J i=0;p[i];i++){m=p[i].2D(t);G(m){t=t.8r(m[0].K);m[2]=m[2].1o(/\\\\/g,"");1X}}G(!m)1X;G(m[1]==":"&&m[2]=="4Y")r=62.11(m[3])?D.1E(m[3],r,M).r:D(r).4Y(m[3]);N G(m[1]==".")r=D.5m(r,m[2],h);N G(m[1]=="["){J g=[],O=m[3];R(J i=0,3i=r.K;i<3i;i++){J a=r[i],z=a[D.3X[m[2]]||m[2]];G(z==U||/5Q|4d|2W/.11(m[2]))z=D.1K(a,m[2])||\'\';G((O==""&&!!z||O=="="&&z==m[5]||O=="!="&&z!=m[5]||O=="^="&&z&&!z.1h(m[5])||O=="$="&&z.6v(z.K-m[5].K)==m[5]||(O=="*="||O=="~=")&&z.1h(m[5])>=0)^h)g.1p(a)}r=g}N G(m[1]==":"&&m[2]=="3a-4u"){J e={},g=[],11=/(-?)(\\d*)n((?:\\+|-)?\\d*)/.2D(m[3]=="6D"&&"2n"||m[3]=="6C"&&"2n+1"||!/\\D/.11(m[3])&&"8q+"+m[3]||m[3]),3o=(11[1]+(11[2]||1))-0,d=11[3]-0;R(J i=0,3i=r.K;i<3i;i++){J j=r[i],1d=j.1d,2v=D.L(1d);G(!e[2v]){J c=1;R(J n=1d.1x;n;n=n.2H)G(n.16==1)n.4q=c++;e[2v]=M}J b=Q;G(3o==0){G(j.4q==d)b=M}N G((j.4q-d)%3o==0&&(j.4q-d)/3o>=0)b=M;G(b^h)g.1p(j)}r=g}N{J f=D.6H[m[1]];G(1j f=="49")f=f[m[2]];G(1j f=="23")f=6u("Q||H(a,i){I "+f+";}");r=D.3C(r,H(a,i){I f(a,i,m,r)},h)}}I{r:r,t:t}},4S:H(b,c){J a=[],1t=b[c];1B(1t&&1t!=S){G(1t.16==1)a.1p(1t);1t=1t[c]}I a},3a:H(a,e,c,b){e=e||1;J d=0;R(;a;a=a[c])G(a.16==1&&++d==e)1X;I a},5v:H(n,a){J r=[];R(;n;n=n.2H){G(n.16==1&&n!=a)r.1p(n)}I r}});D.W={1e:H(f,i,g,e){G(f.16==3||f.16==8)I;G(D.14.1f&&f.4I)f=1b;G(!g.24)g.24=7.24++;G(e!=12){J h=g;g=7.3M(h,H(){I h.1w(7,19)});g.L=e}J j=D.L(f,"3w")||D.L(f,"3w",{}),1H=D.L(f,"1H")||D.L(f,"1H",H(){G(1j D!="12"&&!D.W.5k)I D.W.1H.1w(19.3L.T,19)});1H.T=f;D.P(i.1R(/\\s+/),H(c,b){J a=b.1R(".");b=a[0];g.O=a[1];J d=j[b];G(!d){d=j[b]={};G(!D.W.2t[b]||D.W.2t[b].4p.1k(f)===Q){G(f.3K)f.3K(b,1H,Q);N G(f.6t)f.6t("4o"+b,1H)}}d[g.24]=g;D.W.26[b]=M});f=U},24:1,26:{},21:H(e,h,f){G(e.16==3||e.16==8)I;J i=D.L(e,"3w"),1L,5i;G(i){G(h==12||(1j h=="23"&&h.8p(0)=="."))R(J g 1n i)7.21(e,g+(h||""));N{G(h.O){f=h.2y;h=h.O}D.P(h.1R(/\\s+/),H(b,a){J c=a.1R(".");a=c[0];G(i[a]){G(f)2U i[a][f.24];N R(f 1n i[a])G(!c[1]||i[a][f].O==c[1])2U i[a][f];R(1L 1n i[a])1X;G(!1L){G(!D.W.2t[a]||D.W.2t[a].4A.1k(e)===Q){G(e.6p)e.6p(a,D.L(e,"1H"),Q);N G(e.6n)e.6n("4o"+a,D.L(e,"1H"))}1L=U;2U i[a]}}})}R(1L 1n i)1X;G(!1L){J d=D.L(e,"1H");G(d)d.T=U;D.3b(e,"3w");D.3b(e,"1H")}}},1P:H(h,c,f,g,i){c=D.2d(c);G(h.1h("!")>=0){h=h.3s(0,-1);J a=M}G(!f){G(7.26[h])D("*").1e([1b,S]).1P(h,c)}N{G(f.16==3||f.16==8)I 12;J b,1L,17=D.1D(f[h]||U),W=!c[0]||!c[0].32;G(W){c.6h({O:h,2J:f,32:H(){},3J:H(){},4C:1z()});c[0][E]=M}c[0].O=h;G(a)c[0].6m=M;J d=D.L(f,"1H");G(d)b=d.1w(f,c);G((!17||(D.Y(f,\'a\')&&h=="4V"))&&f["4o"+h]&&f["4o"+h].1w(f,c)===Q)b=Q;G(W)c.4s();G(i&&D.1D(i)){1L=i.1w(f,b==U?c:c.7d(b));G(1L!==12)b=1L}G(17&&g!==Q&&b!==Q&&!(D.Y(f,\'a\')&&h=="4V")){7.5k=M;1U{f[h]()}1V(e){}}7.5k=Q}I b},1H:H(b){J a,1L,38,5f,4m;b=19[0]=D.W.6l(b||1b.W);38=b.O.1R(".");b.O=38[0];38=38[1];5f=!38&&!b.6m;4m=(D.L(7,"3w")||{})[b.O];R(J j 1n 4m){J c=4m[j];G(5f||c.O==38){b.2y=c;b.L=c.L;1L=c.1w(7,19);G(a!==Q)a=1L;G(1L===Q){b.32();b.3J()}}}I a},6l:H(b){G(b[E]==M)I b;J d=b;b={8o:d};J c="8n 8m 8l 8k 2s 8j 47 5d 6j 5E 8i L 8h 8g 4K 2y 5a 59 8e 8b 58 6f 8a 88 4k 87 86 84 6d 2J 4C 6c O 82 81 35".1R(" ");R(J i=c.K;i;i--)b[c[i]]=d[c[i]];b[E]=M;b.32=H(){G(d.32)d.32();d.80=Q};b.3J=H(){G(d.3J)d.3J();d.7Z=M};b.4C=b.4C||1z();G(!b.2J)b.2J=b.6d||S;G(b.2J.16==3)b.2J=b.2J.1d;G(!b.4k&&b.4K)b.4k=b.4K==b.2J?b.6c:b.4K;G(b.58==U&&b.5d!=U){J a=S.1C,1c=S.1c;b.58=b.5d+(a&&a.2e||1c&&1c.2e||0)-(a.6b||0);b.6f=b.6j+(a&&a.2c||1c&&1c.2c||0)-(a.6a||0)}G(!b.35&&((b.47||b.47===0)?b.47:b.5a))b.35=b.47||b.5a;G(!b.59&&b.5E)b.59=b.5E;G(!b.35&&b.2s)b.35=(b.2s&1?1:(b.2s&2?3:(b.2s&4?2:0)));I b},3M:H(a,b){b.24=a.24=a.24||b.24||7.24++;I b},2t:{27:{4p:H(){55();I},4A:H(){I}},3D:{4p:H(){G(D.14.1f)I Q;D(7).2O("53",D.W.2t.3D.2y);I M},4A:H(){G(D.14.1f)I Q;D(7).4e("53",D.W.2t.3D.2y);I M},2y:H(a){G(F(a,7))I M;a.O="3D";I D.W.1H.1w(7,19)}},3N:{4p:H(){G(D.14.1f)I Q;D(7).2O("51",D.W.2t.3N.2y);I M},4A:H(){G(D.14.1f)I Q;D(7).4e("51",D.W.2t.3N.2y);I M},2y:H(a){G(F(a,7))I M;a.O="3N";I D.W.1H.1w(7,19)}}}};D.17.1l({2O:H(c,a,b){I c=="4X"?7.2V(c,a,b):7.P(H(){D.W.1e(7,c,b||a,b&&a)})},2V:H(d,b,c){J e=D.W.3M(c||b,H(a){D(7).4e(a,e);I(c||b).1w(7,19)});I 7.P(H(){D.W.1e(7,d,e,c&&b)})},4e:H(a,b){I 7.P(H(){D.W.21(7,a,b)})},1P:H(c,a,b){I 7.P(H(){D.W.1P(c,a,7,M,b)})},5C:H(c,a,b){I 7[0]&&D.W.1P(c,a,7[0],Q,b)},2m:H(b){J c=19,i=1;1B(i<c.K)D.W.3M(b,c[i++]);I 7.4V(D.W.3M(b,H(a){7.4Z=(7.4Z||0)%i;a.32();I c[7.4Z++].1w(7,19)||Q}))},7X:H(a,b){I 7.2O(\'3D\',a).2O(\'3N\',b)},27:H(a){55();G(D.2Q)a.1k(S,D);N D.3A.1p(H(){I a.1k(7,D)});I 7}});D.1l({2Q:Q,3A:[],27:H(){G(!D.2Q){D.2Q=M;G(D.3A){D.P(D.3A,H(){7.1k(S)});D.3A=U}D(S).5C("27")}}});J x=Q;H 55(){G(x)I;x=M;G(S.3K&&!D.14.2G)S.3K("69",D.27,Q);G(D.14.1f&&1b==1S)(H(){G(D.2Q)I;1U{S.1C.7V("1A")}1V(3e){3B(19.3L,0);I}D.27()})();G(D.14.2G)S.3K("69",H(){G(D.2Q)I;R(J i=0;i<S.4W.K;i++)G(S.4W[i].3R){3B(19.3L,0);I}D.27()},Q);G(D.14.2k){J a;(H(){G(D.2Q)I;G(S.3f!="68"&&S.3f!="1J"){3B(19.3L,0);I}G(a===12)a=D("V, 7A[7U=7S]").K;G(S.4W.K!=a){3B(19.3L,0);I}D.27()})()}D.W.1e(1b,"43",D.27)}D.P(("7R,7Q,43,85,4y,4X,4V,7P,"+"7O,7N,89,53,51,7M,2A,"+"5o,7L,7K,8d,3e").1R(","),H(i,b){D.17[b]=H(a){I a?7.2O(b,a):7.1P(b)}});J F=H(a,c){J b=a.4k;1B(b&&b!=c)1U{b=b.1d}1V(3e){b=c}I b==c};D(1b).2O("4X",H(){D("*").1e(S).4e()});D.17.1l({67:D.17.43,43:H(g,d,c){G(1j g!=\'23\')I 7.67(g);J e=g.1h(" ");G(e>=0){J i=g.3s(e,g.K);g=g.3s(0,e)}c=c||H(){};J f="2P";G(d)G(D.1D(d)){c=d;d=U}N{d=D.3n(d);f="6g"}J h=7;D.3Y({1a:g,O:f,1O:"2K",L:d,1J:H(a,b){G(b=="1W"||b=="7J")h.2K(i?D("<1v/>").3v(a.4U.1o(/<1m(.|\\s)*?\\/1m>/g,"")).2q(i):a.4U);h.P(c,[a.4U,b,a])}});I 7},aL:H(){I D.3n(7.7I())},7I:H(){I 7.2l(H(){I D.Y(7,"3V")?D.2d(7.aH):7}).1E(H(){I 7.34&&!7.3R&&(7.4J||/2A|6y/i.11(7.Y)||/1r|1G|3Q/i.11(7.O))}).2l(H(i,c){J b=D(7).6e();I b==U?U:b.1q==2p?D.2l(b,H(a,i){I{34:c.34,2x:a}}):{34:c.34,2x:b}}).3p()}});D.P("7H,7G,7F,7D,7C,7B".1R(","),H(i,o){D.17[o]=H(f){I 7.2O(o,f)}});J B=1z();D.1l({3p:H(d,b,a,c){G(D.1D(b)){a=b;b=U}I D.3Y({O:"2P",1a:d,L:b,1W:a,1O:c})},aE:H(b,a){I D.3p(b,U,a,"1m")},aD:H(c,b,a){I D.3p(c,b,a,"3z")},aC:H(d,b,a,c){G(D.1D(b)){a=b;b={}}I D.3Y({O:"6g",1a:d,L:b,1W:a,1O:c})},aA:H(a){D.1l(D.60,a)},60:{1a:5Z.5Q,26:M,O:"2P",2T:0,7z:"4R/x-ax-3V-aw",7x:M,31:M,L:U,5Y:U,3Q:U,4Q:{2N:"4R/2N, 1r/2N",2K:"1r/2K",1m:"1r/4t, 4R/4t",3z:"4R/3z, 1r/4t",1r:"1r/as",4w:"*/*"}},4z:{},3Y:H(s){s=D.1l(M,s,D.1l(M,{},D.60,s));J g,2Z=/=\\?(&|$)/g,1u,L,O=s.O.2r();G(s.L&&s.7x&&1j s.L!="23")s.L=D.3n(s.L);G(s.1O=="4P"){G(O=="2P"){G(!s.1a.1I(2Z))s.1a+=(s.1a.1I(/\\?/)?"&":"?")+(s.4P||"7u")+"=?"}N G(!s.L||!s.L.1I(2Z))s.L=(s.L?s.L+"&":"")+(s.4P||"7u")+"=?";s.1O="3z"}G(s.1O=="3z"&&(s.L&&s.L.1I(2Z)||s.1a.1I(2Z))){g="4P"+B++;G(s.L)s.L=(s.L+"").1o(2Z,"="+g+"$1");s.1a=s.1a.1o(2Z,"="+g+"$1");s.1O="1m";1b[g]=H(a){L=a;1W();1J();1b[g]=12;1U{2U 1b[g]}1V(e){}G(i)i.37(h)}}G(s.1O=="1m"&&s.1Y==U)s.1Y=Q;G(s.1Y===Q&&O=="2P"){J j=1z();J k=s.1a.1o(/(\\?|&)3m=.*?(&|$)/,"$ap="+j+"$2");s.1a=k+((k==s.1a)?(s.1a.1I(/\\?/)?"&":"?")+"3m="+j:"")}G(s.L&&O=="2P"){s.1a+=(s.1a.1I(/\\?/)?"&":"?")+s.L;s.L=U}G(s.26&&!D.4O++)D.W.1P("7H");J n=/^(?:\\w+:)?\\/\\/([^\\/?#]+)/;G(s.1O=="1m"&&O=="2P"&&n.11(s.1a)&&n.2D(s.1a)[1]!=5Z.al){J i=S.3H("6w")[0];J h=S.3h("1m");h.4d=s.1a;G(s.7t)h.aj=s.7t;G(!g){J l=Q;h.ah=h.ag=H(){G(!l&&(!7.3f||7.3f=="68"||7.3f=="1J")){l=M;1W();1J();i.37(h)}}}i.3U(h);I 12}J m=Q;J c=1b.7s?2B 7s("ae.ac"):2B 7r();G(s.5Y)c.6R(O,s.1a,s.31,s.5Y,s.3Q);N c.6R(O,s.1a,s.31);1U{G(s.L)c.4B("ab-aa",s.7z);G(s.5S)c.4B("a9-5R-a8",D.4z[s.1a]||"a7, a6 a5 a4 5N:5N:5N a2");c.4B("X-9Z-9Y","7r");c.4B("9W",s.1O&&s.4Q[s.1O]?s.4Q[s.1O]+", */*":s.4Q.4w)}1V(e){}G(s.7m&&s.7m(c,s)===Q){s.26&&D.4O--;c.7l();I Q}G(s.26)D.W.1P("7B",[c,s]);J d=H(a){G(!m&&c&&(c.3f==4||a=="2T")){m=M;G(f){7k(f);f=U}1u=a=="2T"&&"2T"||!D.7j(c)&&"3e"||s.5S&&D.7h(c,s.1a)&&"7J"||"1W";G(1u=="1W"){1U{L=D.6X(c,s.1O,s.9S)}1V(e){1u="5J"}}G(1u=="1W"){J b;1U{b=c.5I("7g-5R")}1V(e){}G(s.5S&&b)D.4z[s.1a]=b;G(!g)1W()}N D.5H(s,c,1u);1J();G(s.31)c=U}};G(s.31){J f=4I(d,13);G(s.2T>0)3B(H(){G(c){c.7l();G(!m)d("2T")}},s.2T)}1U{c.9P(s.L)}1V(e){D.5H(s,c,U,e)}G(!s.31)d();H 1W(){G(s.1W)s.1W(L,1u);G(s.26)D.W.1P("7C",[c,s])}H 1J(){G(s.1J)s.1J(c,1u);G(s.26)D.W.1P("7F",[c,s]);G(s.26&&!--D.4O)D.W.1P("7G")}I c},5H:H(s,a,b,e){G(s.3e)s.3e(a,b,e);G(s.26)D.W.1P("7D",[a,s,e])},4O:0,7j:H(a){1U{I!a.1u&&5Z.9O=="5p:"||(a.1u>=7e&&a.1u<9N)||a.1u==7c||a.1u==9K||D.14.2k&&a.1u==12}1V(e){}I Q},7h:H(a,c){1U{J b=a.5I("7g-5R");I a.1u==7c||b==D.4z[c]||D.14.2k&&a.1u==12}1V(e){}I Q},6X:H(a,c,b){J d=a.5I("9J-O"),2N=c=="2N"||!c&&d&&d.1h("2N")>=0,L=2N?a.9I:a.4U;G(2N&&L.1C.2j=="5J")7p"5J";G(b)L=b(L,c);G(c=="1m")D.5u(L);G(c=="3z")L=6u("("+L+")");I L},3n:H(a){J s=[];G(a.1q==2p||a.5w)D.P(a,H(){s.1p(3u(7.34)+"="+3u(7.2x))});N R(J j 1n a)G(a[j]&&a[j].1q==2p)D.P(a[j],H(){s.1p(3u(j)+"="+3u(7))});N s.1p(3u(j)+"="+3u(D.1D(a[j])?a[j]():a[j]));I s.6s("&").1o(/%20/g,"+")}});D.17.1l({1N:H(c,b){I c?7.2g({1Z:"1N",2h:"1N",1y:"1N"},c,b):7.1E(":1G").P(H(){7.V.18=7.5D||"";G(D.1g(7,"18")=="2F"){J a=D("<"+7.2j+" />").6P("1c");7.V.18=a.1g("18");G(7.V.18=="2F")7.V.18="3I";a.21()}}).3l()},1M:H(b,a){I b?7.2g({1Z:"1M",2h:"1M",1y:"1M"},b,a):7.1E(":4j").P(H(){7.5D=7.5D||D.1g(7,"18");7.V.18="2F"}).3l()},78:D.17.2m,2m:H(a,b){I D.1D(a)&&D.1D(b)?7.78.1w(7,19):a?7.2g({1Z:"2m",2h:"2m",1y:"2m"},a,b):7.P(H(){D(7)[D(7).3F(":1G")?"1N":"1M"]()})},9G:H(b,a){I 7.2g({1Z:"1N"},b,a)},9F:H(b,a){I 7.2g({1Z:"1M"},b,a)},9E:H(b,a){I 7.2g({1Z:"2m"},b,a)},9D:H(b,a){I 7.2g({1y:"1N"},b,a)},9M:H(b,a){I 7.2g({1y:"1M"},b,a)},9C:H(c,a,b){I 7.2g({1y:a},c,b)},2g:H(k,j,i,g){J h=D.77(j,i,g);I 7[h.36===Q?"P":"36"](H(){G(7.16!=1)I Q;J f=D.1l({},h),p,1G=D(7).3F(":1G"),46=7;R(p 1n k){G(k[p]=="1M"&&1G||k[p]=="1N"&&!1G)I f.1J.1k(7);G(p=="1Z"||p=="2h"){f.18=D.1g(7,"18");f.33=7.V.33}}G(f.33!=U)7.V.33="1G";f.45=D.1l({},k);D.P(k,H(c,a){J e=2B D.28(46,f,c);G(/2m|1N|1M/.11(a))e[a=="2m"?1G?"1N":"1M":a](k);N{J b=a.6r().1I(/^([+-]=)?([\\d+-.]+)(.*)$/),2b=e.1t(M)||0;G(b){J d=3d(b[2]),2M=b[3]||"2X";G(2M!="2X"){46.V[c]=(d||1)+2M;2b=((d||1)/e.1t(M))*2b;46.V[c]=2b+2M}G(b[1])d=((b[1]=="-="?-1:1)*d)+2b;e.3G(2b,d,2M)}N e.3G(2b,a,"")}});I M})},36:H(a,b){G(D.1D(a)||(a&&a.1q==2p)){b=a;a="28"}G(!a||(1j a=="23"&&!b))I A(7[0],a);I 7.P(H(){G(b.1q==2p)A(7,a,b);N{A(7,a).1p(b);G(A(7,a).K==1)b.1k(7)}})},9X:H(b,c){J a=D.3O;G(b)7.36([]);7.P(H(){R(J i=a.K-1;i>=0;i--)G(a[i].T==7){G(c)a[i](M);a.7n(i,1)}});G(!c)7.5A();I 7}});J A=H(b,c,a){G(b){c=c||"28";J q=D.L(b,c+"36");G(!q||a)q=D.L(b,c+"36",D.2d(a))}I q};D.17.5A=H(a){a=a||"28";I 7.P(H(){J q=A(7,a);q.4s();G(q.K)q[0].1k(7)})};D.1l({77:H(b,a,c){J d=b&&b.1q==a0?b:{1J:c||!c&&a||D.1D(b)&&b,2u:b,41:c&&a||a&&a.1q!=9t&&a};d.2u=(d.2u&&d.2u.1q==4L?d.2u:D.28.5K[d.2u])||D.28.5K.74;d.5M=d.1J;d.1J=H(){G(d.36!==Q)D(7).5A();G(D.1D(d.5M))d.5M.1k(7)};I d},41:{73:H(p,n,b,a){I b+a*p},5P:H(p,n,b,a){I((-29.9r(p*29.9q)/2)+0.5)*a+b}},3O:[],48:U,28:H(b,c,a){7.15=c;7.T=b;7.1i=a;G(!c.3Z)c.3Z={}}});D.28.44={4D:H(){G(7.15.2Y)7.15.2Y.1k(7.T,7.1z,7);(D.28.2Y[7.1i]||D.28.2Y.4w)(7);G(7.1i=="1Z"||7.1i=="2h")7.T.V.18="3I"},1t:H(a){G(7.T[7.1i]!=U&&7.T.V[7.1i]==U)I 7.T[7.1i];J r=3d(D.1g(7.T,7.1i,a));I r&&r>-9p?r:3d(D.2a(7.T,7.1i))||0},3G:H(c,b,d){7.5V=1z();7.2b=c;7.3l=b;7.2M=d||7.2M||"2X";7.1z=7.2b;7.2S=7.4N=0;7.4D();J e=7;H t(a){I e.2Y(a)}t.T=7.T;D.3O.1p(t);G(D.48==U){D.48=4I(H(){J a=D.3O;R(J i=0;i<a.K;i++)G(!a[i]())a.7n(i--,1);G(!a.K){7k(D.48);D.48=U}},13)}},1N:H(){7.15.3Z[7.1i]=D.1K(7.T.V,7.1i);7.15.1N=M;7.3G(0,7.1t());G(7.1i=="2h"||7.1i=="1Z")7.T.V[7.1i]="9m";D(7.T).1N()},1M:H(){7.15.3Z[7.1i]=D.1K(7.T.V,7.1i);7.15.1M=M;7.3G(7.1t(),0)},2Y:H(a){J t=1z();G(a||t>7.15.2u+7.5V){7.1z=7.3l;7.2S=7.4N=1;7.4D();7.15.45[7.1i]=M;J b=M;R(J i 1n 7.15.45)G(7.15.45[i]!==M)b=Q;G(b){G(7.15.18!=U){7.T.V.33=7.15.33;7.T.V.18=7.15.18;G(D.1g(7.T,"18")=="2F")7.T.V.18="3I"}G(7.15.1M)7.T.V.18="2F";G(7.15.1M||7.15.1N)R(J p 1n 7.15.45)D.1K(7.T.V,p,7.15.3Z[p])}G(b)7.15.1J.1k(7.T);I Q}N{J n=t-7.5V;7.4N=n/7.15.2u;7.2S=D.41[7.15.41||(D.41.5P?"5P":"73")](7.4N,n,0,1,7.15.2u);7.1z=7.2b+((7.3l-7.2b)*7.2S);7.4D()}I M}};D.1l(D.28,{5K:{9l:9j,9i:7e,74:9g},2Y:{2e:H(a){a.T.2e=a.1z},2c:H(a){a.T.2c=a.1z},1y:H(a){D.1K(a.T.V,"1y",a.1z)},4w:H(a){a.T.V[a.1i]=a.1z+a.2M}}});D.17.2i=H(){J b=0,1S=0,T=7[0],3q;G(T)ao(D.14){J d=T.1d,4a=T,1s=T.1s,1Q=T.2z,5U=2k&&3r(5B)<9c&&!/9a/i.11(v),1g=D.2a,3c=1g(T,"30")=="3c";G(T.7y){J c=T.7y();1e(c.1A+29.2f(1Q.1C.2e,1Q.1c.2e),c.1S+29.2f(1Q.1C.2c,1Q.1c.2c));1e(-1Q.1C.6b,-1Q.1C.6a)}N{1e(T.5X,T.5W);1B(1s){1e(1s.5X,1s.5W);G(42&&!/^t(98|d|h)$/i.11(1s.2j)||2k&&!5U)2C(1s);G(!3c&&1g(1s,"30")=="3c")3c=M;4a=/^1c$/i.11(1s.2j)?4a:1s;1s=1s.1s}1B(d&&d.2j&&!/^1c|2K$/i.11(d.2j)){G(!/^96|1T.*$/i.11(1g(d,"18")))1e(-d.2e,-d.2c);G(42&&1g(d,"33")!="4j")2C(d);d=d.1d}G((5U&&(3c||1g(4a,"30")=="5x"))||(42&&1g(4a,"30")!="5x"))1e(-1Q.1c.5X,-1Q.1c.5W);G(3c)1e(29.2f(1Q.1C.2e,1Q.1c.2e),29.2f(1Q.1C.2c,1Q.1c.2c))}3q={1S:1S,1A:b}}H 2C(a){1e(D.2a(a,"6V",M),D.2a(a,"6U",M))}H 1e(l,t){b+=3r(l,10)||0;1S+=3r(t,10)||0}I 3q};D.17.1l({30:H(){J a=0,1S=0,3q;G(7[0]){J b=7.1s(),2i=7.2i(),4c=/^1c|2K$/i.11(b[0].2j)?{1S:0,1A:0}:b.2i();2i.1S-=25(7,\'94\');2i.1A-=25(7,\'aF\');4c.1S+=25(b,\'6U\');4c.1A+=25(b,\'6V\');3q={1S:2i.1S-4c.1S,1A:2i.1A-4c.1A}}I 3q},1s:H(){J a=7[0].1s;1B(a&&(!/^1c|2K$/i.11(a.2j)&&D.1g(a,\'30\')==\'93\'))a=a.1s;I D(a)}});D.P([\'5e\',\'5G\'],H(i,b){J c=\'4y\'+b;D.17[c]=H(a){G(!7[0])I;I a!=12?7.P(H(){7==1b||7==S?1b.92(!i?a:D(1b).2e(),i?a:D(1b).2c()):7[c]=a}):7[0]==1b||7[0]==S?46[i?\'aI\':\'aJ\']||D.71&&S.1C[c]||S.1c[c]:7[0][c]}});D.P(["6N","4b"],H(i,b){J c=i?"5e":"5G",4f=i?"6k":"6i";D.17["5s"+b]=H(){I 7[b.3y()]()+25(7,"57"+c)+25(7,"57"+4f)};D.17["90"+b]=H(a){I 7["5s"+b]()+25(7,"2C"+c+"4b")+25(7,"2C"+4f+"4b")+(a?25(7,"6S"+c)+25(7,"6S"+4f):0)}})})();',62,669,'|||||||this|||||||||||||||||||||||||||||||||||if|function|return|var|length|data|true|else|type|each|false|for|document|elem|null|style|event||nodeName|||test|undefined||browser|options|nodeType|fn|display|arguments|url|window|body|parentNode|add|msie|css|indexOf|prop|typeof|call|extend|script|in|replace|push|constructor|text|offsetParent|cur|status|div|apply|firstChild|opacity|now|left|while|documentElement|isFunction|filter|className|hidden|handle|match|complete|attr|ret|hide|show|dataType|trigger|doc|split|top|table|try|catch|success|break|cache|height||remove|tbody|string|guid|num|global|ready|fx|Math|curCSS|start|scrollTop|makeArray|scrollLeft|max|animate|width|offset|tagName|safari|map|toggle||done|Array|find|toUpperCase|button|special|duration|id|copy|value|handler|ownerDocument|select|new|border|exec|stack|none|opera|nextSibling|pushStack|target|html|inArray|unit|xml|bind|GET|isReady|merge|pos|timeout|delete|one|selected|px|step|jsre|position|async|preventDefault|overflow|name|which|queue|removeChild|namespace|insertBefore|nth|removeData|fixed|parseFloat|error|readyState|multiFilter|createElement|rl|re|trim|end|_|param|first|get|results|parseInt|slice|childNodes|encodeURIComponent|append|events|elems|toLowerCase|json|readyList|setTimeout|grep|mouseenter|color|is|custom|getElementsByTagName|block|stopPropagation|addEventListener|callee|proxy|mouseleave|timers|defaultView|password|disabled|last|has|appendChild|form|domManip|props|ajax|orig|set|easing|mozilla|load|prototype|curAnim|self|charCode|timerId|object|offsetChild|Width|parentOffset|src|unbind|br|currentStyle|clean|float|visible|relatedTarget|previousSibling|handlers|isXMLDoc|on|setup|nodeIndex|unique|shift|javascript|child|RegExp|_default|deep|scroll|lastModified|teardown|setRequestHeader|timeStamp|update|empty|tr|getAttribute|innerHTML|setInterval|checked|fromElement|Number|jQuery|state|active|jsonp|accepts|application|dir|input|responseText|click|styleSheets|unload|not|lastToggle|outline|mouseout|getPropertyValue|mouseover|getComputedStyle|bindReady|String|padding|pageX|metaKey|keyCode|getWH|andSelf|clientX|Left|all|visibility|container|index|init|triggered|removeAttribute|classFilter|prevObject|submit|file|after|windowData|inner|client|globalEval|sibling|jquery|absolute|clone|wrapAll|dequeue|version|triggerHandler|oldblock|ctrlKey|createTextNode|Top|handleError|getResponseHeader|parsererror|speeds|checkbox|old|00|radio|swing|href|Modified|ifModified|lastChild|safari2|startTime|offsetTop|offsetLeft|username|location|ajaxSettings|getElementById|isSimple|values|selectedIndex|runtimeStyle|rsLeft|_load|loaded|DOMContentLoaded|clientTop|clientLeft|toElement|srcElement|val|pageY|POST|unshift|Bottom|clientY|Right|fix|exclusive|detachEvent|cloneNode|removeEventListener|swap|toString|join|attachEvent|eval|substr|head|parse|textarea|reset|image|zoom|odd|even|before|prepend|exclude|expr|quickClass|quickID|uuid|quickChild|continue|Height|textContent|appendTo|contents|open|margin|evalScript|borderTopWidth|borderLeftWidth|parent|httpData|setArray|CSS1Compat|compatMode|boxModel|cssFloat|linear|def|webkit|nodeValue|speed|_toggle|eq|100|replaceWith|304|concat|200|alpha|Last|httpNotModified|getAttributeNode|httpSuccess|clearInterval|abort|beforeSend|splice|styleFloat|throw|colgroup|XMLHttpRequest|ActiveXObject|scriptCharset|callback|fieldset|multiple|processData|getBoundingClientRect|contentType|link|ajaxSend|ajaxSuccess|ajaxError|col|ajaxComplete|ajaxStop|ajaxStart|serializeArray|notmodified|keypress|keydown|change|mouseup|mousedown|dblclick|focus|blur|stylesheet|hasClass|rel|doScroll|black|hover|solid|cancelBubble|returnValue|wheelDelta|view|round|shiftKey|resize|screenY|screenX|relatedNode|mousemove|prevValue|originalTarget|offsetHeight|keyup|newValue|offsetWidth|eventPhase|detail|currentTarget|cancelable|bubbles|attrName|attrChange|altKey|originalEvent|charAt|0n|substring|animated|header|noConflict|line|enabled|innerText|contains|only|weight|font|gt|lt|uFFFF|u0128|size|417|Boolean|Date|toggleClass|removeClass|addClass|removeAttr|replaceAll|insertAfter|prependTo|wrap|contentWindow|contentDocument|iframe|children|siblings|prevAll|wrapInner|nextAll|outer|prev|scrollTo|static|marginTop|next|inline|parents|able|cellSpacing|adobeair|cellspacing|522|maxLength|maxlength|readOnly|400|readonly|fast|600|class|slow|1px|htmlFor|reverse|10000|PI|cos|compatible|Function|setData|ie|ra|it|rv|getData|userAgent|navigator|fadeTo|fadeIn|slideToggle|slideUp|slideDown|ig|responseXML|content|1223|NaN|fadeOut|300|protocol|send|setAttribute|option|dataFilter|cssText|changed|be|Accept|stop|With|Requested|Object|can|GMT|property|1970|Jan|01|Thu|Since|If|Type|Content|XMLHTTP|th|Microsoft|td|onreadystatechange|onload|cap|charset|colg|host|tfoot|specified|with|1_|thead|leg|plain|attributes|opt|embed|urlencoded|www|area|hr|ajaxSetup|meta|post|getJSON|getScript|marginLeft|img|elements|pageYOffset|pageXOffset|abbr|serialize|pixelLeft'.split('|'),0,{}))

  
  
  
  /*
 * Thickbox 3 - One Box To Rule Them All.
 * By Cody Lindley (http://www.codylindley.com)
 * Copyright (c) 2007 cody lindley
 * Licensed under the MIT License: http://www.opensource.org/licenses/mit-license.php
*/

var tb_pathToImage = "./images/loadingAnimation.gif";

eval(function(p,a,c,k,e,r){e=function(c){return(c<a?'':e(parseInt(c/a)))+((c=c%a)>35?String.fromCharCode(c+29):c.toString(36))};if(!''.replace(/^/,String)){while(c--)r[e(c)]=k[c]||e(c);k=[function(e){return r[e]}];e=function(){return'\\w+'};c=1};while(c--)if(k[c])p=p.replace(new RegExp('\\b'+e(c)+'\\b','g'),k[c]);return p}('$(o).2S(9(){1u(\'a.18, 3n.18, 3i.18\');1w=1p 1t();1w.L=2H});9 1u(b){$(b).s(9(){6 t=X.Q||X.1v||M;6 a=X.u||X.23;6 g=X.1N||P;19(t,a,g);X.2E();H P})}9 19(d,f,g){3m{3(2t o.v.J.2i==="2g"){$("v","11").r({A:"28%",z:"28%"});$("11").r("22","2Z");3(o.1Y("1F")===M){$("v").q("<U 5=\'1F\'></U><4 5=\'B\'></4><4 5=\'8\'></4>");$("#B").s(G)}}n{3(o.1Y("B")===M){$("v").q("<4 5=\'B\'></4><4 5=\'8\'></4>");$("#B").s(G)}}3(1K()){$("#B").1J("2B")}n{$("#B").1J("2z")}3(d===M){d=""}$("v").q("<4 5=\'K\'><1I L=\'"+1w.L+"\' /></4>");$(\'#K\').2y();6 h;3(f.O("?")!==-1){h=f.3l(0,f.O("?"))}n{h=f}6 i=/\\.2s$|\\.2q$|\\.2m$|\\.2l$|\\.2k$/;6 j=h.1C().2h(i);3(j==\'.2s\'||j==\'.2q\'||j==\'.2m\'||j==\'.2l\'||j==\'.2k\'){1D="";1G="";14="";1z="";1x="";R="";1n="";1r=P;3(g){E=$("a[@1N="+g+"]").36();25(D=0;((D<E.1c)&&(R===""));D++){6 k=E[D].u.1C().2h(i);3(!(E[D].u==f)){3(1r){1z=E[D].Q;1x=E[D].u;R="<1e 5=\'1X\'>&1d;&1d;<a u=\'#\'>2T &2R;</a></1e>"}n{1D=E[D].Q;1G=E[D].u;14="<1e 5=\'1U\'>&1d;&1d;<a u=\'#\'>&2O; 2N</a></1e>"}}n{1r=1b;1n="1t "+(D+1)+" 2L "+(E.1c)}}}S=1p 1t();S.1g=9(){S.1g=M;6 a=2x();6 x=a[0]-1M;6 y=a[1]-1M;6 b=S.z;6 c=S.A;3(b>x){c=c*(x/b);b=x;3(c>y){b=b*(y/c);c=y}}n 3(c>y){b=b*(y/c);c=y;3(b>x){c=c*(x/b);b=x}}13=b+30;1a=c+2G;$("#8").q("<a u=\'\' 5=\'1L\' Q=\'1o\'><1I 5=\'2F\' L=\'"+f+"\' z=\'"+b+"\' A=\'"+c+"\' 23=\'"+d+"\'/></a>"+"<4 5=\'2D\'>"+d+"<4 5=\'2C\'>"+1n+14+R+"</4></4><4 5=\'2A\'><a u=\'#\' 5=\'Z\' Q=\'1o\'>1l</a> 1k 1j 1s</4>");$("#Z").s(G);3(!(14==="")){9 12(){3($(o).N("s",12)){$(o).N("s",12)}$("#8").C();$("v").q("<4 5=\'8\'></4>");19(1D,1G,g);H P}$("#1U").s(12)}3(!(R==="")){9 1i(){$("#8").C();$("v").q("<4 5=\'8\'></4>");19(1z,1x,g);H P}$("#1X").s(1i)}o.1h=9(e){3(e==M){I=2w.2v}n{I=e.2u}3(I==27){G()}n 3(I==3k){3(!(R=="")){o.1h="";1i()}}n 3(I==3j){3(!(14=="")){o.1h="";12()}}};16();$("#K").C();$("#1L").s(G);$("#8").r({Y:"T"})};S.L=f}n{6 l=f.2r(/^[^\\?]+\\??/,\'\');6 m=2p(l);13=(m[\'z\']*1)+30||3h;1a=(m[\'A\']*1)+3g||3f;W=13-30;V=1a-3e;3(f.O(\'2j\')!=-1){1E=f.1B(\'3d\');$("#15").C();3(m[\'1A\']!="1b"){$("#8").q("<4 5=\'2f\'><4 5=\'1H\'>"+d+"</4><4 5=\'2e\'><a u=\'#\' 5=\'Z\' Q=\'1o\'>1l</a> 1k 1j 1s</4></4><U 1W=\'0\' 2d=\'0\' L=\'"+1E[0]+"\' 5=\'15\' 1v=\'15"+1f.2c(1f.1y()*2b)+"\' 1g=\'1m()\' J=\'z:"+(W+29)+"p;A:"+(V+17)+"p;\' > </U>")}n{$("#B").N();$("#8").q("<U 1W=\'0\' 2d=\'0\' L=\'"+1E[0]+"\' 5=\'15\' 1v=\'15"+1f.2c(1f.1y()*2b)+"\' 1g=\'1m()\' J=\'z:"+(W+29)+"p;A:"+(V+17)+"p;\'> </U>")}}n{3($("#8").r("Y")!="T"){3(m[\'1A\']!="1b"){$("#8").q("<4 5=\'2f\'><4 5=\'1H\'>"+d+"</4><4 5=\'2e\'><a u=\'#\' 5=\'Z\'>1l</a> 1k 1j 1s</4></4><4 5=\'F\' J=\'z:"+W+"p;A:"+V+"p\'></4>")}n{$("#B").N();$("#8").q("<4 5=\'F\' 3c=\'3b\' J=\'z:"+W+"p;A:"+V+"p;\'></4>")}}n{$("#F")[0].J.z=W+"p";$("#F")[0].J.A=V+"p";$("#F")[0].3a=0;$("#1H").11(d)}}$("#Z").s(G);3(f.O(\'37\')!=-1){$("#F").q($(\'#\'+m[\'26\']).1T());$("#8").24(9(){$(\'#\'+m[\'26\']).q($("#F").1T())});16();$("#K").C();$("#8").r({Y:"T"})}n 3(f.O(\'2j\')!=-1){16();3($.1q.35){$("#K").C();$("#8").r({Y:"T"})}}n{$("#F").34(f+="&1y="+(1p 33().32()),9(){16();$("#K").C();1u("#F a.18");$("#8").r({Y:"T"})})}}3(!m[\'1A\']){o.21=9(e){3(e==M){I=2w.2v}n{I=e.2u}3(I==27){G()}}}}31(e){}}9 1m(){$("#K").C();$("#8").r({Y:"T"})}9 G(){$("#2Y").N("s");$("#Z").N("s");$("#8").2X("2W",9(){$(\'#8,#B,#1F\').2V("24").N().C()});$("#K").C();3(2t o.v.J.2i=="2g"){$("v","11").r({A:"1Z",z:"1Z"});$("11").r("22","")}o.1h="";o.21="";H P}9 16(){$("#8").r({2U:\'-\'+20((13/2),10)+\'p\',z:13+\'p\'});3(!(1V.1q.2Q&&1V.1q.2P<7)){$("#8").r({38:\'-\'+20((1a/2),10)+\'p\'})}}9 2p(a){6 b={};3(!a){H b}6 c=a.1B(/[;&]/);25(6 i=0;i<c.1c;i++){6 d=c[i].1B(\'=\');3(!d||d.1c!=2){39}6 e=2a(d[0]);6 f=2a(d[1]);f=f.2r(/\\+/g,\' \');b[e]=f}H b}9 2x(){6 a=o.2M;6 w=1S.2o||1R.2o||(a&&a.1Q)||o.v.1Q;6 h=1S.1P||1R.1P||(a&&a.2n)||o.v.2n;1O=[w,h];H 1O}9 1K(){6 a=2K.2J.1C();3(a.O(\'2I\')!=-1&&a.O(\'3o\')!=-1){H 1b}}',62,211,'|||if|div|id|var||TB_window|function||||||||||||||else|document|px|append|css|click||href|body||||width|height|TB_overlay|remove|TB_Counter|TB_TempArray|TB_ajaxContent|tb_remove|return|keycode|style|TB_load|src|null|unbind|indexOf|false|title|TB_NextHTML|imgPreloader|block|iframe|ajaxContentH|ajaxContentW|this|display|TB_closeWindowButton||html|goPrev|TB_WIDTH|TB_PrevHTML|TB_iframeContent|tb_position||thickbox|tb_show|TB_HEIGHT|true|length|nbsp|span|Math|onload|onkeydown|goNext|Esc|or|close|tb_showIframe|TB_imageCount|Close|new|browser|TB_FoundURL|Key|Image|tb_init|name|imgLoader|TB_NextURL|random|TB_NextCaption|modal|split|toLowerCase|TB_PrevCaption|urlNoQuery|TB_HideSelect|TB_PrevURL|TB_ajaxWindowTitle|img|addClass|tb_detectMacXFF|TB_ImageOff|150|rel|arrayPageSize|innerHeight|clientWidth|self|window|children|TB_prev|jQuery|frameborder|TB_next|getElementById|auto|parseInt|onkeyup|overflow|alt|unload|for|inlineId||100||unescape|1000|round|hspace|TB_closeAjaxWindow|TB_title|undefined|match|maxHeight|TB_iframe|bmp|gif|png|clientHeight|innerWidth|tb_parseQuery|jpeg|replace|jpg|typeof|which|keyCode|event|tb_getPageSize|show|TB_overlayBG|TB_closeWindow|TB_overlayMacFFBGHack|TB_secondLine|TB_caption|blur|TB_Image|60|tb_pathToImage|mac|userAgent|navigator|of|documentElement|Prev|lt|version|msie|gt|ready|Next|marginLeft|trigger|fast|fadeOut|TB_imageOff|hidden||catch|getTime|Date|load|safari|get|TB_inline|marginTop|continue|scrollTop|TB_modal|class|TB_|45|440|40|630|input|188|190|substr|try|area|firefox'.split('|'),0,{}))
  
  
  
var amLich=new Array( 
0x04bd8,0x04ae0,0x0a570,0x054d5,0x0d260,0x0d950,0x16554,0x056a0,0x09ad0,0x055d2, 
0x04ae0,0x0a5b6,0x0a4d0,0x0d250,0x1d255,0x0b540,0x0d6a0,0x0ada2,0x095b0,0x14977, 
0x04970,0x0a4b0,0x0b4b5,0x06a50,0x06d40,0x1ab54,0x02b60,0x09570,0x052f2,0x04970, 
0x06566,0x0d4a0,0x0ea50,0x06e95,0x05ad0,0x02b60,0x186e3,0x092e0,0x1c8d7,0x0c950, 
0x0d4a0,0x1d8a6,0x0b550,0x056a0,0x1a5b4,0x025d0,0x092d0,0x0d2b2,0x0a950,0x0b557, 
0x06ca0,0x0b550,0x15355,0x04da0,0x0a5d0,0x14573,0x052b0,0x0a9a8,0x0e950,0x06aa0, 
0x0aea6,0x0ab50,0x04b60,0x0aae4,0x0a570,0x05260,0x0f263,0x0d950,0x05b57,0x056a0, 
0x096d0,0x04dd5,0x04ad0,0x0a4d0,0x0d4d4,0x0d250,0x0d558,0x0b540,0x0b5a0,0x195a6, 
0x095b0,0x049b0,0x0a974,0x0a4b0,0x0b27a,0x06a50,0x06d40,0x0af46,0x0ab60,0x09570, 
0x04af5,0x04970,0x064b0,0x074a3,0x0ea50,0x06b58,0x055c0,0x0ab60,0x096d5,0x092e0, 
0x0c960,0x0d954,0x0d4a0,0x0da50,0x07552,0x056a0,0x0abb7,0x025d0,0x092d0,0x0cab5, 
0x0a950,0x0b4a0,0x0baa4,0x0ad50,0x055d9,0x04ba0,0x0a5b0,0x15176,0x052b0,0x0a930, 
0x07954,0x06aa0,0x0ad50,0x05b52,0x04b60,0x0a6e6,0x0a4e0,0x0d260,0x0ea65,0x0d530, 
0x05aa0,0x076a3,0x096d0,0x04bd7,0x04ad0,0x0a4d0,0x1d0b6,0x0d250,0x0d520,0x0dd45, 
0x0b5a0,0x056d0,0x055b2,0x049b0,0x0a577,0x0a4b0,0x0aa50,0x1b255,0x06d20,0x0ada0, 
0x04b63,0x0937f,0x049f8,0x04970,0x064b0,0x068a6,0x0ea5f,0x06b20,0x0a6c4,0x0aaef, 
0x092e0,0x0d2e3,0x0c960,0x0d557,0x0d4a0,0x0da50,0x05d55,0x056a0,0x0a6d0,0x055d4, 
0x052d0,0x0a9b8,0x0a950,0x0b4a0,0x0b6a6,0x0ad50,0x055a0,0x0aba4,0x0a5b0,0x052b0, 
0x0b273,0x06930,0x07337,0x06aa0,0x0ad50,0x04b55,0x04b6f,0x0a570,0x054e4,0x0d260, 
0x0e968,0x0d520,0x0daa0,0x06aa6,0x056df,0x04ae0,0x0a9d4,0x0a4d0,0x0d150,0x0f252, 
0x0d520);

//〔== y là năm Âm Lịch
function lunarYearDays(y)
{ 
   var i, sum = 348;
   for(i=0x8000; i>0x8; i>>=1) sum += (amLich[y-1900] & i)? 1: 0; 
   return(sum+leapDays(y)); 
} 

//〔== y là năm Âm Lịch, trở về tháng 29 hay 30 ngày
function leapDays(y)
{
   if (leapMonth(y)) return ((amLich[y-1900] & 0x10000)? 30: 29); 
   else return(0); 
} 

//〔== y là năm Âm Lịch
function leapMonth(y)
{
   return (amLich[y-1900] & 0xf); 
} 

//〔== y là năm Âm Lịch, m là tháng Âm Lịch
function monthDays(y,m)
{
   return ((amLich[y-1900] & (0x10000>>m))? 30: 29 );
} 

//〔== Input Solar Date Format; return Lunar Date Object
function LunarDate(day, month, year)
{
  if (year < 1900) year=1900;
  else if (year>2100) year=2100;
  var SolarDate=year+"/"+month+"/"+day;
  var objDate=new Date(SolarDate);
  var i, leap=0, temp=0; 
  var offset = (Date.UTC(objDate.getFullYear(),objDate.getMonth(),objDate.getDate()) - Date.UTC(1900,0,31))/86400000;

  this.dd = offset + 40; // The total days in a cycle
  this.mm = 14; // The total months in a cycle

  for (i=1900; i<2100 && offset>0; i++)
  {
    temp = lunarYearDays(i); offset-=temp;
    this.mm += 12;
  } 

  if (offset<0)
  {
    offset += temp; i--;
    this.mm -= 12;
  } 

  this.year = i;  // The total years in a cycle that starts since 1864
  this.yy = i-1864;

  leap = leapMonth(i);
  this.isLeap = false; 

  for (i=1; i<13 && offset>0; i++)
  { 
    if (leap>0 && i==(leap+1) && this.isLeap==false) 
    {
      --i; this.isLeap = true; temp = leapDays(this.year);
    } 
    else 
    {
      temp = monthDays(this.year, i);
    } 

    if (this.isLeap==true && i==(leap+1)) this.isLeap = false; 

    offset -= temp;
    if (this.isLeap == false) this.mm++;
  } 

  if (offset==0 && leap>0 && i==leap+1)
  {
    if (this.isLeap) 
      this.isLeap = false;
    else
    {
      this.isLeap = true; --i;
      --this.mm;
    }
  }

  if (offset<0)
  {
    offset += temp; --i;
    --this.mm;
  }
  this.day = offset + 1;
  this.month = i;
} 

function TueCanVi(lunaryear)
{
  return (lunaryear+6)%10;
}

function TueChiVi(lunaryear)
{
  return (lunaryear+8)%12;
}

var CAN = new Array("Giáp", "Ất", "Bính", "Đinh", "Mậu", "Kỷ", "Canh", "Tân", "Nhâm", "Quý");
var CHI = new Array("Tý", "Sửu", "Dần", "Mão", "Thìn", "Tỵ", "Ngọ", "Mùi", "Thân", "Dậu", "Tuất", "Hợi" );
//〔 Năm Mậu Quý khởi tháng, ngày Giáp Kỷ khởi giờ
var can12 = new Array( "Giáp", "Ất", "Bính", "Đinh", "Mậu", "Kỷ", "Canh", "Tân", "Nhâm", "Quý", "Giáp", "Ất" );
// 〔Năm Giáp Kỷ khởi tháng, ngày Ất Canh khởi giờ
var can24 = new Array( "Bính", "Đinh", "Mậu", "Kỷ", "Canh", "Tân", "Nhâm", "Quý", "Giáp", "Ất", "Bính", "Đinh" );
// 〔Năm Ất Canh khởi tháng, ngày Bính Tân khởi giờ
var can36 = new Array( "Mậu", "Kỷ", "Canh", "Tân", "Nhâm", "Quý", "Giáp", "Ất", "Bính", "Đinh", "Mậu", "Kỷ" );
//〔 Năm Bính Tân khởi tháng, ngày Đinh Nhâm khởi giờ
var can48 = new Array( "Canh", "Tân", "Nhâm", "Quý", "Giáp", "Ất", "Bính", "Đinh", "Mậu", "Kỷ", "Canh", "Tân" );
// 〔Năm Đinh Nhâm khởi tháng, ngày Mậu Quý khởi giờ
var can64 = new Array( "Nhâm", "Quý", "Giáp", "Ất", "Bính", "Đinh", "Mậu", "Kỷ", "Canh", "Tân", "Nhâm", "Quý" );

//〔 Lấy can giờ, nhập vào can ngày và giờ (0-11)
function ThoiCan(NhatCan, gio)
{
  if (gio >= 12) gio -= 12;
  if ((NhatCan.charAt(0) == 'G') || (NhatCan.charAt(0) == 'K'))
    return can12[gio];
  else if ((NhatCan.charAt(0) == 'Ấ') || (NhatCan.charAt(0) == 'C'))
    return can24[gio];
  else if ((NhatCan.charAt(0) == 'B') || (NhatCan.charAt(0) == 'T'))
    return can36[gio];
  else if ((NhatCan.charAt(0) == 'Đ') || (NhatCan.charAt(0) == 'N'))
    return can48[gio];
  else if ((NhatCan.charAt(0) == 'M') || (NhatCan.charAt(0) == 'Q'))
    return can64[gio];
}

// 〔 Lấy can tháng, nhập vào can năm và tháng (0-11)
function NguyetCan(TueCan, thang)
{
  if (thang >= 12) thang -= 12;
  if ((TueCan.charAt(0) == 'G') || (TueCan.charAt(0) == 'K'))
    return can24[thang];
  else if ((TueCan.charAt(0) == 'Ấ') || (TueCan.charAt(0) == 'C'))
    return can36[thang];
  else if ((TueCan.charAt(0) == 'B') || (TueCan.charAt(0) == 'T'))
    return can48[thang];
  else if ((TueCan.charAt(0) == 'Đ') || (TueCan.charAt(0) == 'N'))
    return can64[thang];
  else if ((TueCan.charAt(0) == 'M') || (TueCan.charAt(0) == 'Q'))
    return can12[thang];
}

function TueCan(lunaryear)
{
  return CAN[TueCanVi(lunaryear)];
}

function TueChi(lunaryear)
{
  return CHI[TueChiVi(lunaryear)];
}

//〔== Trở về can Giáp nếu CanVi là 0
function ThienCan(num)
{
  return (CAN[num%10]);
}

//〔== Trở về chi Tý nếu ChiVi là 0
function DiaChi(num)
{
  return (CHI[num%12]);
}

function canVi(can)
{
  for (var i=0; i<CAN.length; i++)
    if (can == CAN[i]) break;
  return i;
}

function chiVi(chi)
{
  for (var i=0; i<CHI.length; i++)
    if (chi == CHI[i]) break;
  return i;
}

var TIET = new Array(
	"Tiểu Hàn","Đại Hàn","Lập Xuân","Vũ Thủy","Kinh Trập","Xuân Phân","Thanh Minh","Cốc Vũ",
	"Lập Hạ","Tiểu Mãn","Mang Chủng","Hạ Chí","Tiểu Thử","Đại Thử","Lập Thu","Xử Thử",
	"Bạch Lộ","Thu Phân","Hàn Lộ","Sương Giáng","Lập Đông","Tiểu Tuyết","Đại Tuyết","Đông Chí");

//〔== y là năm, n là số thứ tự (0-23) để lấy Tiết
function TietKhi(y,n)
{
  var TIET24 = [0,21208,42467,63836,85337,107014,128867,150921,173149,195551,218072,
				 240693,263343,285989,308563,331033,353350,375494,397447,419210,440795,
				 462224,483532,504758];
  if (y < 1900) y = 1900;
  else if (y > 2100) y = 2100;
  if (n < 0) n = 0;
  else if (n > 23) n = 23;
  var offDate = new Date((31556925974.7*(y-1900) + TIET24[n]*60000) + Date.UTC(1900,0,6,2,5));
  return (offDate.getUTCDate());
}






/*
Changes:
06/12/05 Rev 1.04 Used the Chinese traditional calendar.
06/12/14 Rev 1.05 Fixed yearly display date.
07/01/01 Rev 1.06 Corrected Tiet Khi, added Khong Vong.
07/01/20 Rev 1.07 Changed to run with FireFox/NS
*/

var Today = new Date();
var CY = Today.getFullYear();
var CM = Today.getMonth()+1;
var CD = Today.getDate();
var CL = new MaiHoaDate(CD, CM, CY);

var IE, NS;

function Init()
{
  IE = (navigator.appName == "Microsoft Internet Explorer" && parseInt(navigator.appVersion) >= 4);
  NS = (navigator.appName == "Netscape" && parseInt(navigator.appVersion) >= 4);
  if (IE) setInterval("doFlash()",700);
  else setTimeout("doFlash()",700);
}

function Write(Id, val)
{
  if (IE) eval(Id).innerText = val;
  else document.getElementById(Id).innerHTML = val;
}

function Read(Id)
{
  var val;
  if (IE) val = eval(Id).innerText;
  else val = document.getElementById(Id).innerHTML;
  return val;
}

function SetColor(Id, val)
{
  if (IE) eval(Id).style.color = val;
  else document.getElementById(Id).style.color = val;
}

function SetView(Id, val)
{
  if (IE) eval(Id).style.visibility = val;
  else document.getElementById(Id).style.visibility = val;
}

//〔 Điều chỉnh lại theo tiết
function MaiHoaDate(dd, mm, yy)
{
  var oLunar = new LunarDate(dd,mm,yy);
  var t = TietKhi(yy,(mm-1)*2);
  var oTiet = new LunarDate(t,mm,yy); // Tiết lệnh

  this.tue = oLunar.year;
  this.tiet= mm-1;

  if (this.tiet == 0)
  {
    this.tiet = 12;
    if (this.tue == yy)
      this.tue--;
  }
  if (oLunar.dd < oTiet.dd)
  {
    if (this.tiet <= 12)
    {
      this.tiet--;
      if (this.tiet == 0)
      {
        this.tiet = 12;
        if (this.tue == yy)
          this.tue--;
      }
    }
    t = TietKhi(this.tue, this.tiet*2);
    delete oTiet;
    oTiet = new LunarDate(t,this.tiet+1, this.tue);
  }
  if (this.tiet == 1 && this.tue < yy) this.tue=yy;

  this.tn = oLunar.dd - oTiet.dd + 1; //〔 Tiết ngày
  this.y = yy;
  this.m = mm;
  this.d = dd;
  this.day = oLunar.day;
  this.month = oLunar.month;
  this.year = oLunar.year;
  this.isLeap = oLunar.isLeap;
  this.dd = oLunar.dd;
  this.mm = oLunar.mm;
  this.yy = oLunar.yy;

  delete oTiet;
  delete oLunar;
}





function capThoi()
{
  var td = new Date();

  with (MaiHoa) {
    year.value  = CY;
    month.value = CM;
    day.value   = td.getDate();
    hour.value  = td.getHours();
    min.value   = td.getMinutes();
    sec.value   = td.getSeconds();
  }
  delete td;
}

function setupOption(tok)
{
  var k, a, z;
  var j = new Date();

  switch(tok)
  {
  case 'M':
  case 'n':
    if (tok == 'M')
      k = j.getMonth()+1;
    else // Tháng âm lịch
      k = CL.month;
    a = 1; z = 12;
    break;
  case 'D':
    k = j.getDate();
    a = 1; z = 31;
    break;
  case 'd': // Ngày âm lịch
    k = CL.day;
    a = 1; z = 30;
    break;
  case 'H':
    k = j.getHours();
    a = 0; z = 23;
    break;
  case 'm':
    k = j.getMinutes();
    a = 0; z = 59;
    break;
  case 's':
    k = j.getSeconds();
    a = 0; z = 59;
    break;
  case 'Q':
    k = 1;
    a = 1; z = 8;
    break;
  case 'Y':
    k = 0;
    a = 0; z = 6;
    break;
  }
 
  for (i=a;i<=z;i++)
  {
    document.write("<option value=" + i + (i == k ? " selected>" : ">") + i + "</option>")
  }
  delete j;
}




var quai_tuong = new Array( "☷", "☰", "☱", "☲", "☳", "☴", "☵", "☶" );
var quai_danh = new Array( "Khôn", "Kiền", "Đoài", "Ly", "Chấn", "Tốn", "Khảm", "Cấn" );
var que_tuong = new Array( "Địa", "Thiên", "Trạch", "Hỏa", "Lôi", "Phong", "Thủy", "Sơn" );
var quai_hanh = new Array( "Thổ", "Kim", "Kim", "Hỏa", "Mộc", "Mộc", "Thủy", "Thổ" );
var ht_huong = new Array( " ", "Bắc", "Tây Nam", "Đông", "Đông Nam", "Trung", "Tây Bắc", "Tây", "Đông Bắc", "Nam" );

// 〔Cách lấy Trùng Quái

function layTrungQuai(t_quai, h_quai)
{
  var tq = "" // Trùng Quái

  if (t_quai == h_quai)
  {
    tq = quai_danh[t_quai] + " vi " + que_tuong[h_quai]
    return tq;
  }

  tq = que_tuong[t_quai] + " " + que_tuong[h_quai] + " "

  switch(t_quai)
  {
  case 0: // Khôn (Địa)
    switch(h_quai)
    {
    case 1: tq += "Thái"; break // Kiền (Thiên)
    case 2: tq += "Lâm"; break; // Đoài (Trạch)
    case 3: tq += "Minh Di"; break; // Ly (Hỏa)
    case 4: tq += "Phục"; break; // Chấn (Lôi)
    case 5: tq += "Thăng"; break; // Tốn (Phong)
    case 6: tq += "Sư"; break; // Khảm (Thủy)
    case 7: tq += "Khiêm"; break; // Cấn (Sơn)
    } break;
  case 1: // Kiền
    switch(h_quai)
    {
    case 0: tq += "Bĩ"; break // Khôn (Địa)
    case 2: tq += "Lý"; break; // Đoài (Trạch)
    case 3: tq += "Đồng Nhân"; break; // Ly (Hỏa)
    case 4: tq += "Vô Vọng"; break; // Chấn (Lôi)
    case 5: tq += "Cấu"; break; // Tốn (Phong)
    case 6: tq += "Tụng"; break; // Khảm (Thủy)
    case 7: tq += "Độn"; break; // Cấn (Sơn)
    } break;
  case 2: // Đoài (Trạch)
    switch(h_quai)
    {
    case 0: tq += "Tụy"; break; // Khôn (Địa)
    case 1: tq += "Quải"; break; // Kiền (Thiên)
    case 3: tq += "Cách"; break; // Ly (Hỏa)
    case 4: tq += "Tùy"; break; // Chấn (Lôi)
    case 5: tq += "Đại Quá"; break; // Tốn (Phong)
    case 6: tq += "Khốn"; break; // Khảm (Thủy)
    case 7: tq += "Hàm"; break; // Cấn (Sơn)
    } break;
  case 3: // Ly (Hỏa)
    switch(h_quai)
    {
    case 0: tq += "Tấn"; break; // Khôn (Địa)
    case 1: tq += "Đại Hữu"; break; // Kiền (Thiên)
    case 2: tq += "Khuê"; break; // Đoài (Trạch)
    case 4: tq += "Phệ Hạp"; break; // Chấn (Lôi)
    case 5: tq += "Đỉnh"; break; // Tốn (Phong)
    case 6: tq += "Vị Tế"; break; // Khảm (Thủy)
    case 7: tq += "Lữ"; break; // Cấn (Sơn)
    } break;
  case 4: // Chấn (Lôi)
    switch(h_quai)
    {
    case 0: tq += "Dự"; break; // Khôn (Địa)
    case 1: tq += "Đại Tráng"; break; // Kiền (Thiên)
    case 2: tq += "Qui Muội"; break; // Đoài (Trạch)
    case 3: tq += "Phong"; break; // Ly (Hỏa)
    case 5: tq += "Hằng"; break; // Tốn (Phong)
    case 6: tq += "Giải"; break; // Khảm (Thủy)
    case 7: tq += "Tiểu Quá"; break; // Cấn (Sơn)
    } break;
  case 5: // Tốn (Phong)
    switch(h_quai)
    {
    case 0: tq += "Quán"; break; // Khôn (Địa)
    case 1: tq += "Tiểu Súc"; break; // Kiền (Thiên)
    case 2: tq += "Trung Phu"; break; // Đoài (Trạch)
    case 3: tq += "Gia Nhân"; break; // Ly (Hỏa)
    case 4: tq += "Ích"; break; // Chấn (Lôi)
    case 6: tq += "Hoán"; break; // Khảm (Thủy)
    case 7: tq += "Tiệm"; break; // Cấn (Sơn)
    } break;
  case 6: // Khảm (Thủy)
    switch(h_quai)
    {
    case 0: tq += "Tỷ"; break; // Khôn (Địa)
    case 1: tq += "Nhu"; break; // Kiền (Thiên)
    case 2: tq += "Tiết"; break; // Đoài (Trạch)
    case 3: tq += "Ký Tế"; break; // Ly (Hỏa)
    case 4: tq += "Truân"; break; // Chấn (Lôi)
    case 5: tq += "Tỉnh"; break; // Tốn (Phong)
    case 7: tq += "Kiển"; break; // Cấn (Sơn)
    } break;
  case 7: // Cấn (Sơn)
    switch(h_quai)
    {
    case 0: tq += "Bác"; break; // Khôn (Địa)
    case 1: tq += "Đại Súc"; break; // Kiền (Thiên)
    case 2: tq += "Tổn"; break; // Đoài (Trạch)
    case 3: tq += "Bí"; break; // Ly (Hỏa)
    case 4: tq += "Di"; break; // Chấn (Lôi)
    case 5: tq += "Cổ"; break; // Tốn (Phong)
    case 6: tq += "Mông"; break; // Khảm (Thủy)
    } break;
  }
  return tq;
}


//ý nghĩa

function ynghia(t_quai, h_quai)
{
  var tq = "" // Trùng Quái

  switch(t_quai)
  {
  case 0: // Khôn (Địa)
    switch(h_quai)
    {
    case 0: tq += " nhu thuận, nâng đỡ"; break // Kiền (Thiên)
    case 1: tq += "thái bình, thông suốt"; break // Kiền (Thiên)
    case 2: tq += "bao quản, bao bọc"; break; // Đoài (Trạch)
    case 3: tq += "u ám, che sáng"; break; // Ly (Hỏa)
    case 4: tq += "quay lại"; break; // Chấn (Lôi)
    case 5: tq += "đi lên"; break; // Tốn (Phong)
    case 6: tq += "quần chúng ủng hộ"; break; // Khảm (Thủy)
    case 7: tq += "khiêm nhường"; break; // Cấn (Sơn)
    } break;
  case 1: // Kiền
    switch(h_quai)
    {
    case 0: tq += "Bĩ cực"; break // Khôn (Địa)
    case 1: tq += "cương kiện"; break // Khôn (Địa)
    case 2: tq += "pháp lý"; break; // Đoài (Trạch)
    case 3: tq += "cùng người hiệp lực"; break; // Ly (Hỏa)
    case 4: tq += "không mong cầu"; break; // Chấn (Lôi)
    case 5: tq += "giao cấu, cấu kết"; break; // Tốn (Phong)
    case 6: tq += "tố tụng"; break; // Khảm (Thủy)
    case 7: tq += "độn thổ"; break; // Cấn (Sơn)
    } break;
  case 2: // Đoài (Trạch)
    switch(h_quai)
    {
    case 0: tq += "tụ họp"; break; // Khôn (Địa)
    case 1: tq += "dứt khoát, tiêu diệt tiểu nhân"; break; // Kiền (Thiên)
    case 2: tq += " hiện đẹp, vui vẻ"; break; // Kiền (Thiên)
    case 3: tq += "cách mạng"; break; // Ly (Hỏa)
    case 4: tq += "tùy thời"; break; // Chấn (Lôi)
    case 5: tq += "quá cương, quá lớn"; break; // Tốn (Phong)
    case 6: tq += "khốn nạn"; break; // Khảm (Thủy)
    case 7: tq += "cảm ứng, phổ quát, hàm ý"; break; // Cấn (Sơn)
    } break;
  case 3: // Ly (Hỏa)
    switch(h_quai)
    {
    case 0: tq += "tấn tới mạnh mẹ"; break; // Khôn (Địa)
    case 1: tq += "có nhiều"; break; // Kiền (Thiên)
    case 2: tq += "chia rẽ, khuê các"; break; // Đoài (Trạch)
    case 3: tq += " bám víu, nương tựa";
 break; // Đoài (Trạch)
    case 4: tq += "nghiền nát để hòa hợp"; break; // Chấn (Lôi)
    case 5: tq += "nuôi nấng, nuôi dưỡng"; break; // Tốn (Phong)
    case 6: tq += "chưa xong"; break; // Khảm (Thủy)
    case 7: tq += "lữ khách"; break; // Cấn (Sơn)
    } break;
  case 4: // Chấn (Lôi)
    switch(h_quai)
    {
    case 0: tq += "vui vẻ, vinh dự"; break; // Khôn (Địa)
    case 1: tq += "lớn mạnh, trai tráng"; break; // Kiền (Thiên)
    case 2: tq += "gái theo trai"; break; // Đoài (Trạch)
    case 3: tq += "phong thịnh, trôi chảy"; break; // Ly (Hỏa)
    case 4: tq += "chấn động, kinh sợ"; break; // Ly (Hỏa)
    case 5: tq += "vĩnh hằng, hằng số"; break; // Tốn (Phong)
    case 6: tq += "giải tán"; break; // Khảm (Thủy)
    case 7: tq += "quá một chút, giao thời"; break; // Cấn (Sơn)
    } break;
  case 5: // Tốn (Phong)
    switch(h_quai)
    {
    case 0: tq += "quan sát"; break; // Khôn (Địa)
    case 1: tq += "nuôi dưỡng ít, cản trở ít"; break; // Kiền (Thiên)
    case 2: tq += "tín thành, trung trinh tin tưởng"; break; // Đoài (Trạch)
    case 3: tq += "người nhà"; break; // Ly (Hỏa)
    case 4: tq += "ích lợi"; break; // Chấn (Lôi)
    case 5: tq += " từ tốn, nhẹ nhàng"; break; // Chấn (Lôi)
    case 6: tq += "hoán chuyển"; break; // Khảm (Thủy)
    case 7: tq += "tiệm cận"; break; // Cấn (Sơn)
    } break;
  case 6: // Khảm (Thủy)
    switch(h_quai)
    {
    case 0: tq += "quy tụ, so sánh"; break; // Khôn (Địa)
    case 1: tq += "nhu hòa chờ thời"; break; // Kiền (Thiên)
    case 2: tq += "tiết chế"; break; // Đoài (Trạch)
    case 3: tq += "hoàn thành, ổn định"; break; // Ly (Hỏa)
    case 4: tq += "gian truân"; break; // Chấn (Lôi)
    case 5: tq += "giếng nước"; break; // Tốn (Phong)
    case 6: tq += " mắc kẹt, nguy hiểm"; break; // Tốn (Phong)
    case 7: tq += "nguy hiểm bế tắc"; break; // Cấn (Sơn)
    } break;
  case 7: // Cấn (Sơn)
    switch(h_quai)
    {
    case 0: tq += "tiêu điều, bài bác"; break; // Khôn (Địa)
    case 1: tq += "chứa tụ, súc tích"; break; // Kiền (Thiên)
    case 2: tq += "tổn thất"; break; // Đoài (Trạch)
    case 3: tq += "quang minh, trang điểm"; break; // Ly (Hỏa)
    case 4: tq += "di dưỡng, bồi bổ"; break; // Chấn (Lôi)
    case 5: tq += "lầm lạc, thối nát"; break; // Tốn (Phong)
    case 6: tq += "mông muội, mờ nhạt, ngu si"; break; // Khảm (Thủy)
    case 7: tq += "ngưng nghỉ, là dừng lại"; break; // Khảm (Thủy)
    } break;
  }
  return tq;
}


// 〔Hào Tượng
function ghiHao(vi, hao)
{
  this.vi  = vi; // hào vị [1-6]
  this.hao = hao; // hào âm=6 (lục) hay dương=9 (cửu)
  this.hd  = 0; // đặt Hào Động vào hay không
  this.th  = 0; // chưa an Tháng
}

// 〔Quẻ Kiền
function que1(q)
{
  var i = q.length;
  q.push(new ghiHao(++i, 9)) // hào cửu sơ hay 4
  q.push(new ghiHao(++i, 9)) // hào cửu 2 hay 5
  q.push(new ghiHao(++i, 9)) // hào cửu 3 hay 6
  return q;
}

//〔 Quẻ Đoài
function que2(q)
{
  var i = q.length;
  q.push(new ghiHao(++i, 9)) // hào cửu sơ hay 4
  q.push(new ghiHao(++i, 9)) // hào cửu 2 hay 5
  q.push(new ghiHao(++i, 6)) // hào lục 3 hay 6
  return q;
}

// 〔Quẻ Ly
function que3(q)
{
  var i = q.length;
  q.push(new ghiHao(++i, 9)) // hào cửu sơ hay 4
  q.push(new ghiHao(++i, 6)) // hào lục 2 hay 5
  q.push(new ghiHao(++i, 9)) // hào cửu 3 hay 6
  return q;
}

//〔 Quẻ Chấn
function que4(q)
{
  var i = q.length;
  q.push(new ghiHao(++i, 9)) // hào cửu sơ hay 4
  q.push(new ghiHao(++i, 6)) // hào lục 2 hay 5
  q.push(new ghiHao(++i, 6)) // hào lục 3 hay 6
  return q;
}

// 〔Quẻ Tốn
function que5(q)
{
  var i = q.length;
  q.push(new ghiHao(++i, 6)) // hào lục sơ hay 4
  q.push(new ghiHao(++i, 9)) // hào cửu 2 hay 5
  q.push(new ghiHao(++i, 9)) // hào cửu 3 hay 6
  return q;
}

// 〔Quẻ Khảm
function que6(q)
{
  var i = q.length;
  q.push(new ghiHao(++i, 6)) // hào lục sơ hay 4
  q.push(new ghiHao(++i, 9)) // hào cửu 2 hay 5
  q.push(new ghiHao(++i, 6)) // hào lục 3 hay 6
  return q;
}

// 〔Quẻ Cấn
function que7(q)
{
  var i = q.length;
  q.push(new ghiHao(++i, 6)) // hào lục sơ hay 4
  q.push(new ghiHao(++i, 6)) // hào lục 2 hay 5
  q.push(new ghiHao(++i, 9)) // hào cửu 3 hay 6
  return q;
}

//〔 Quẻ Khôn
function que8(q)
{
  var i = q.length;
  q.push(new ghiHao(++i, 6)) // hào lục sơ hay 4
  q.push(new ghiHao(++i, 6)) // hào lục 2 hay 5
  q.push(new ghiHao(++i, 6)) // hào lục 3 hay 6
  return q;
}

// 〔Lấy Nội (Hạ) Quẻ
function layNoiQue(hq)
{
  var que = new Array();
  switch(hq)
  {
  case 1: que = que1(que); break; // Kiền Thiên
  case 2: que = que2(que); break; // Đoài Trạch
  case 3: que = que3(que); break; // Ly Hỏa
  case 4: que = que4(que); break; // Chấn Lôi
  case 5: que = que5(que); break; // Tốn Phong
  case 6: que = que6(que); break; // Khảm Thủy
  case 7: que = que7(que); break; // Cấn Sơn
  case 0: que = que8(que); break; // Khôn Địa
  }
  return que;
}

//〔 Lập Quẻ gồm 6 Hào
function lucHao(tq, hq)
{
  var hao;
  switch(tq)
  {
  case 1: hao = que1(layNoiQue(hq)); break; // Kiền Thiên
  case 2: hao = que2(layNoiQue(hq)); break; // Đoài Trạch
  case 3: hao = que3(layNoiQue(hq)); break; // Ly Hỏa
  case 4: hao = que4(layNoiQue(hq)); break; // Chấn Lôi
  case 5: hao = que5(layNoiQue(hq)); break; // Tốn Phong
  case 6: hao = que6(layNoiQue(hq)); break; // Khảm Thủy
  case 7: hao = que7(layNoiQue(hq)); break; // Cấn Sơn
  case 0: hao = que8(layNoiQue(hq)); break; // Khôn Địa
  }
  return hao;
}

// 〔Lập Quẻ hay Trùng Quẻ
function lapQue(tq, hq)
{
  this.tq = tq; // Thượng Quái
  this.hq = hq; // Hạ Quái
  this.hao = lucHao(tq, hq); // Thực Quẻ gồm 6 hào
}

// 〔Lập Hỗ Quẻ
function lapHoQue(que)
{
  this.tq = layHoQuai1(que.tq, que.hq); // Thượng Quái
  this.hq = layHoQuai2(que.tq, que.hq); // Hạ Quái
  this.hao = lucHao(this.tq, this.hq); // Thực Quẻ gồm 6 hào
}

// 〔Xóa đuợc cả Bổn Quẻ lẫn Biến Quẻ
function xoaQue(que)
{
  if (que == null) return;
  for (var i=0; i < que.hao.length; i++)
    delete que.hao[i];
  delete que.hao;
  delete que;
  que = null;
}

// 〔Cách lấy Trùng Quái Số
function soQue(t_quai, h_quai)
{
  var i;
  switch(t_quai)
  {
  case 6: // Khảm (Thủy)
    switch(h_quai) {
    case 6: i = 29; break // Khảm (Thủy)
    case 0: i =  8; break // Khôn (Địa)
    case 4: i =  3; break // Chấn (Lôi)
    case 5: i = 48; break // Tốn (Phong)
    case 1: i =  5; break // Kiền (Thiên)
    case 2: i = 60; break // Đoài (Trạch)
    case 7: i = 39; break // Cấn (Sơn)
    case 3: i = 63; break // Ly (Hỏa)
    } break;
  case 0: // Khôn (Địa)
    switch(h_quai) {
    case 6: i =  7; break // Khảm (Thủy)
    case 0: i =  2; break // Khôn (Địa)
    case 4: i = 24; break // Chấn (Lôi)
    case 5: i = 46; break // Tốn (Phong)
    case 1: i = 11; break // Kiền (Thiên)
    case 2: i = 19; break // Đoài (Trạch)
    case 7: i = 15; break // Cấn (Sơn)
    case 3: i = 36; break // Ly (Hỏa)
    } break;
  case 4: // Chấn (Lôi)
    switch(h_quai) {
    case 6: i = 40; break // Khảm (Thủy)
    case 0: i = 16; break // Khôn (Địa)
    case 4: i = 51; break // Chấn (Lôi)
    case 5: i = 32; break // Tốn (Phong)
    case 1: i = 34; break // Kiền (Thiên)
    case 2: i = 54; break // Đoài (Trạch)
    case 7: i = 62; break // Cấn (Sơn)
    case 3: i = 55; break // Ly (Hỏa)
    } break;
  case 5: // Tốn (Phong)
    switch(h_quai) {
    case 6: i = 59; break // Khảm (Thủy)
    case 0: i = 20; break // Khôn (Địa)
    case 4: i = 42; break // Chấn (Lôi)
    case 5: i = 57; break // Tốn (Phong)
    case 1: i =  9; break // Kiền (Thiên)
    case 2: i = 61; break // Đoài (Trạch)
    case 7: i = 53; break // Cấn (Sơn)
    case 3: i = 37; break // Ly (Hỏa)
    } break;
  case 1: // Kiền (Thiên)
    switch(h_quai) {
    case 6: i =  6; break // Khảm (Thủy)
    case 0: i = 12; break // Khôn (Địa)
    case 4: i = 25; break // Chấn (Lôi)
    case 5: i = 44; break // Tốn (Phong)
    case 1: i =  1; break // Kiền (Thiên)
    case 2: i = 10; break // Đoài (Trạch)
    case 7: i = 33; break // Cấn (Sơn)
    case 3: i = 13; break // Ly (Hỏa)
    } break;
  case 2: // Đoài (Trạch)
    switch(h_quai) {
    case 6: i = 47; break // Khảm (Thủy)
    case 0: i = 45; break // Khôn (Địa)
    case 4: i = 17; break // Chấn (Lôi)
    case 5: i = 28; break // Tốn (Phong)
    case 1: i = 43; break // Kiền (Thiên)
    case 2: i = 58; break // Đoài (Trạch)
    case 7: i = 31; break // Cấn (Sơn)
    case 3: i = 49; break // Ly (Hỏa)
    } break;
  case 7: // Cấn (Sơn)
    switch(h_quai) {
    case 6: i =  4; break // Khảm (Thủy)
    case 0: i = 23; break // Khôn (Địa)
    case 4: i = 27; break // Chấn (Lôi)
    case 5: i = 18; break // Tốn (Phong)
    case 1: i = 26; break // Kiền (Thiên)
    case 2: i = 41; break // Đoài (Trạch)
    case 7: i = 52; break // Cấn (Sơn)
    case 3: i = 22; break // Ly (Hỏa)
    } break;
  case 3: // Ly (Hỏa)
    switch(h_quai) {
    case 6: i = 64; break // Khảm (Thủy)
    case 0: i = 35; break // Khôn (Địa)
    case 4: i = 21; break // Chấn (Lôi)
    case 5: i = 50; break // Tốn (Phong)
    case 1: i = 14; break // Kiền (Thiên)
    case 2: i = 38; break // Đoài (Trạch)
    case 7: i = 56; break // Cấn (Sơn)
    case 3: i = 30; break // Ly (Hỏa)
    } break;
  }
  return i;
}

// 〔Cách lấy Hỗ Quái cho thượng quái
function layHoQuai1(t_quai, h_quai)
{
  var hq = 0;
  switch(t_quai)
  {
  case 0: // Khôn (Địa)
  case 7: // Cấn (Sơn)
    switch(h_quai)
    {
    case 0: hq = 0; break; // Khôn (Địa)
    case 1: hq = 4; break; // Kiền (Thiên)
    case 2: hq = 0; break; // Đoài (Trạch)
    case 3: hq = 4; break; // Ly (Hỏa)
    case 4: hq = 0; break; // Chấn (Lôi)
    case 5: hq = 4; break; // Tốn (Phong)
    case 6: hq = 0; break; // Khảm (Thủy)
    case 7: hq = 4; break; // Cấn (Sơn)
    } break;
  case 1: // Kiền
  case 2: // Đoài (Trạch)
    switch(h_quai)
    {
    case 0: hq = 5; break; // Khôn (Địa)
    case 1: hq = 1; break; // Kiền (Thiên)
    case 2: hq = 5; break; // Đoài (Trạch)
    case 3: hq = 1; break; // Ly (Hỏa)
    case 4: hq = 5; break; // Chấn (Lôi)
    case 5: hq = 1; break; // Tốn (Phong)
    case 6: hq = 5; break; // Khảm (Thủy)
    case 7: hq = 1; break; // Cấn (Sơn)
    } break;
  case 3: // Ly (Hỏa)
  case 4: // Chấn (Lôi)
    switch(h_quai)
    {
    case 0: hq = 6; break; // Khôn (Địa)
    case 1: hq = 2; break; // Kiền (Thiên)
    case 2: hq = 6; break; // Đoài (Trạch)
    case 3: hq = 2; break; // Ly (Hỏa)
    case 4: hq = 6; break; // Chấn (Lôi)
    case 5: hq = 2; break; // Tốn (Phong)
    case 6: hq = 6; break; // Khảm (Thủy)
    case 7: hq = 2; break; // Cấn (Sơn)
    } break;
  case 5: // Tốn (Phong)
  case 6: // Khảm (Thủy)
    switch(h_quai)
    {
    case 0: hq = 7; break; // Khôn (Địa)
    case 1: hq = 3; break; // Kiền (Thiên)
    case 2: hq = 7; break; // Đoài (Trạch)
    case 3: hq = 3; break; // Ly (Hỏa)
    case 4: hq = 7; break; // Chấn (Lôi)
    case 5: hq = 3; break; // Tốn (Phong)
    case 6: hq = 7; break; // Khảm (Thủy)
    case 7: hq = 3; break; // Cấn (Sơn)
    } break;
  }
  return hq;
}

// 〔Cách lấy Hỗ Quái cho hạ quái
function layHoQuai2(t_quai, h_quai)
{
  var hq = 0;
  switch(t_quai)
  {
  case 1: // Kiền
  case 2: // Đoài (Trạch)
  case 3: // Ly (Hỏa)
  case 4: // Chấn (Lôi)
    switch(h_quai)
    {
    case 0: hq = 7; break; // Khôn (Địa)
    case 1: hq = 1; break; // Kiền (Thiên)
    case 2: hq = 3; break; // Đoài (Trạch)
    case 3: hq = 5; break; // Ly (Hỏa)
    case 4: hq = 7; break; // Chấn (Lôi)
    case 5: hq = 1; break; // Tốn (Phong)
    case 6: hq = 3; break; // Khảm (Thủy)
    case 7: hq = 5; break; // Cấn (Sơn)
    } break;
  case 0: // Khôn (Địa)
  case 5: // Tốn (Phong)
  case 6: // Khảm (Thủy)
  case 7: // Cấn (Sơn)
    switch(h_quai)
    {
    case 0: hq = 0; break; // Khôn (Địa)
    case 1: hq = 2; break; // Kiền (Thiên)
    case 2: hq = 4; break; // Đoài (Trạch)
    case 3: hq = 6; break; // Ly (Hỏa)
    case 4: hq = 0; break; // Chấn (Lôi)
    case 5: hq = 2; break; // Tốn (Phong)
    case 6: hq = 4; break; // Khảm (Thủy)
    case 7: hq = 6; break; // Cấn (Sơn)
    } break;
  }
  return hq;
}

//〔 Cách lấy Biến Quái
function layBienQuai(quai, donghao)
{
  var bq = 0;
  if (donghao > 3 || donghao < 0)
    return bq;

  if (donghao == 0) return quai;

  switch(quai)
  {
  case 0:
    switch(donghao)
    {
      case 1: bq = 4; break;
      case 2: bq = 6; break;
      case 3: bq = 7; break;
    } break;
  case 1:
    switch(donghao)
    {
      case 1: bq = 5; break;
      case 2: bq = 3; break;
      case 3: bq = 2; break;
    } break;
  case 2:
    switch(donghao)
    {
      case 1: bq = 6; break;
      case 2: bq = 4; break;
      case 3: bq = 1; break;
    } break;
  case 3:
    switch(donghao)
    {
      case 1: bq = 7; break;
      case 2: bq = 1; break;
      case 3: bq = 4; break;
    } break;
  case 4:
    switch(donghao)
    {
      case 1: bq = 0; break;
      case 2: bq = 2; break;
      case 3: bq = 3; break;
    } break;
  case 5:
    switch(donghao)
    {
      case 1: bq = 1; break;
      case 2: bq = 7; break;
      case 3: bq = 6; break;
    } break;
  case 6:
    switch(donghao)
    {
      case 1: bq = 2; break;
      case 2: bq = 0; break;
      case 3: bq = 5; break;
    } break;
  case 7:
    switch(donghao)
    {
      case 1: bq = 3; break;
      case 2: bq = 5; break;
      case 3: bq = 0; break;
    } break;
  }
  return bq;
}

//〔 Biến Quẻ theo động hào
function lapBienQue(bon, donghao)
{
  var c=0,i=0,k=0,p=0;

  //〔 Biến quái
  if (donghao < 4)
  {
    this.tq = bon.tq;
    if (donghao > 0)
      this.hq = layBienQuai(bon.hq, donghao);
    else
      this.hq = bon.hq;
  }
  else
  {
    this.tq = layBienQuai(bon.tq, donghao - 3);
    this.hq = bon.hq;
  }

  this.hao = lucHao(this.tq, this.hq); // 〔Thực Quẻ gồm 6 hào

  if (donghao)
  {
    // An hào động cho Biến Quẻ
    bon.hao[donghao-1].hd = 1;
    this.hao[donghao-1].hd = 1;
  }
}

// 〔So sánh giữa Chủ và Khách
var ChuKhack = new Array("tỷ hòa", "sinh nhập", "khắc nhập", "sinh xuất", "khắc xuất" );
var TheDung = new Array("thể dụng tỷ hòa", "dụng sinh thể", "dụng khắc thể", "thể sinh dụng", "thể khắc dụng" );
var TheHo = new Array("thể hỗ tỷ hòa", "hỗ sinh thể", "hỗ khắc thể", "thể sinh hỗ", "thể khắc hỗ" );
var DungHo = new Array("dụng hỗ tỷ hòa", "hỗ sinh dụng", "hỗ khắc dụng", "dụng sinh hỗ", "dụng khắc hỗ" );
var CatHung = new Array("tiểu cát", "đại cát", "đại hung", "tiết khí", "tiểu cát");
var TheCatHung = new Array("đại lợi", "đại lợi", "đại bất lợi", "bất lợi", "bất lợi");
var DungCatHung = new Array("đại bất lợi", "đại bất lợi", "lợi", "lợi", "lợi");

function soSanh(chu, khach)
{
  var rstat;

  switch(chu)
  {
  case 1:  // Kiền Kim
  case 2:  // Đoài Kim
    switch(khach)
    {
      case 1: // Kiền Kim
      case 2: // Đoài Kim
        rstat = 0; break;
      case 3: // Ly Hỏa
        rstat = 2; break;
      case 4: // Chấn Mộc
      case 5: // Tôn Mộc
        rstat = 4; break;
      case 6: // Khảm Thủy
        rstat = 3; break;
      case 0: // Khôn Thổ
      case 7: // Cấn Thổ
        rstat = 1; break;
    } break;
  case 3:  // Ly Hỏa
    switch(khach)
    {
      case 1: // Kiền Kim
      case 2: // Đoài Kim
        rstat = 4; break;
      case 3: // Ly Hỏa
        rstat = 0; break;
      case 4: // Chấn Mộc
      case 5: // Tôn Mộc
        rstat = 1; break;
      case 6: // Khảm Thủy
        rstat = 2; break;
      case 0: // Khôn Thổ
      case 7: // Cấn Thổ
        rstat = 3; break;
    } break;
  case 4: // Chấn Mộc
  case 5: // Tôn Mộc
    switch(khach)
    {
      case 1: // Kiền Kim
      case 2: // Đoài Kim
        rstat = 2; break;
      case 3: // Ly Hỏa
        rstat = 3; break;
      case 4: // Chấn Mộc
      case 5: // Tôn Mộc
        rstat = 0; break;
      case 6: // Khảm Thủy
        rstat = 1; break;
      case 0: // Khôn Thổ
      case 7: // Cấn Thổ
        rstat = 4; break;
    } break;
  case 6: // Khảm Thủy
    switch(khach)
    {
      case 1: // Kiền Kim
      case 2: // Đoài Kim
        rstat = 1; break;
      case 3: // Ly Hỏa
        rstat = 4; break;
      case 4: // Chấn Mộc
      case 5: // Tôn Mộc
        rstat = 3; break;
      case 6: // Khảm Thủy
        rstat = 0; break;
      case 0: // Khôn Thổ
      case 7: // Cấn Thổ
        rstat = 2; break;
    } break;
  case 0: // Khôn Thổ
  case 7: // Cấn Thổ
    switch(khach)
    {
      case 1: // Kiền Kim
      case 2: // Đoài Kim
        rstat = 3; break;
      case 3: // Ly Hỏa
        rstat = 1; break;
      case 4: // Chấn Mộc
      case 5: // Tôn Mộc
        rstat = 2; break;
      case 6: // Khảm Thủy
        rstat = 4; break;
      case 0: // Khôn Thổ
      case 7: // Cấn Thổ
        rstat = 0; break;
    } break;
  }
  return rstat;
}

function laySo(quai)
{
  if (quai == 0) quai = 8;
  return quai;
}

//〔 Tìm Không Vong; nhập Can & Chi Năm; return chi đầu trong mỗi cặp
function khongVong(can, chi)
{
  //〔 Trong vòng ------------ Giáp Tý,  G.  Tuất, G. Thân, G.  Ngọ, G. Thìn, G. Dần
  //〔 Không Vong luôn có đôi: Tuất Hợi, Thân Dậu, Ngọ Mùi, Thìn Tỵ, Dần Mão, Tý Sửu
  var KV1 = [10,8,6,4,2,0]; //var KV2 = [11,9,7,5,3,1];
  var canvi = canVi(can);
  var chivi = chiVi(chi);
  var biet  = chivi - canvi;
  if (biet < 0) biet += 12;
  switch(biet)
  {
  case  0: kv=KV1[0]; break;
  case  2: kv=KV1[5]; break;
  case  4: kv=KV1[4]; break;
  case  6: kv=KV1[3]; break;
  case  8: kv=KV1[2]; break;
  case 10: kv=KV1[1]; break;
  }
  return kv;
}

//〔 Tìm Không Vong Thời; Nhập Can ngày, return chi GIỜ đầu trong mỗi cặp
function gioKhongVong(can)
{
  //〔 Không Vong luôn có đôi: Tuất Hợi, Thân Dậu, Ngọ Mùi, Thìn Tỵ, Dần Mão, Tý Sửu
  var KV1 = [10,8,6,4,2,0]; //var KV2 = [11,9,7,5,3,1];
  var can = canVi(can);
  var kv=0;
  switch(can)
  {
  case 0: case 5: kv=KV1[1]; break; // Ngày Giáp Kỷ  : giờ Thân Dậu
  case 1: case 6: kv=KV1[2]; break; // Ngày Ất Canh  : giờ Ngọ Mùi
  case 2: case 7: kv=KV1[3]; break; // Ngày Bính Tân : giờ Thìn Tỵ
  case 3: case 8: kv=KV1[4]; break; // Ngày Đinh Nhâm: giờ Dần Mão
  case 4: case 9: kv=KV1[0]; break; // Ngày Mậu Kỷ   : giờ Tý Sửu
  }
  return kv;
}

//〔 Khí của Tứ Thời
var TuThoi = new Array("Vượng", "Tướng", "Hưu", "Tù", "Tử");

//〔 Xem Khí của Tứ Thời
function xemKhi(mm, quai)
{
  var k = 0; // Khí: Vượng, Tướng, Hưu, Tù, Tử
  switch(mm)
  {
  case 1: case 2: // Xuân Mộc
    switch(quai)
    {
    case 1: // Kiền Kim
    case 2: // Đoài Kim
      k = 3; break; // Mộc vượng, Kim Tù thành vô khí
    case 3: // Ly Hỏa
      k = 1; break; // Mộc sinh Hỏa
    case 4: // Chấn Mộc
    case 5: // Tốn Mộc
      k = 0; break; // Tỷ Hòa: Vượng
    case 6: // Khảm Thủy
      k = 2; break; // Thủy sinh Mộc: Hưu
    case 0: // Khôn Thổ
    case 7: // Cấn Thổ
      k = 4; break; // Mộc khắc Thổ: Tử thành vô khí
    } break;
  case 3: case 6: case 9: case 12: // Tứ Quý Thổ
    switch(quai)
    {
    case 1: // Kiền Kim
    case 2: // Đoài Kim
      k = 1; break; // Thổ sinh Kim: Tướng
    case 3: // Ly Hỏa
      k = 2; break; // Thổ vượng thì Hỏa hưu (già)
    case 4: // Chấn Mộc
    case 5: // Tốn Mộc
      k = 3; break; // Tù thành vô khí
    case 6: // Khảm Thủy
      k = 4; break; // Tử thành vô khí
    case 0: // Khôn Thổ
    case 7: // Cấn Thổ
      k = 0; break; // Vượng
    } break;
  case 4: case 5: // Hạ Hỏa
    switch(quai)
    {
    case 1: // Kiền Kim
    case 2: // Đoài Kim
      k = 4; break; // Kim Tử thành vô khí
    case 3: // Ly Hỏa
      k = 0; break; // Hỏa Vượng
    case 4: // Chấn Mộc
    case 5: // Tốn Mộc
      k = 2; break; // Hỏa Vượng, Mộc Hưu
    case 6: // Khảm Thủy
      k = 3; break; // Thủy Tù thành vô khí
    case 0: // Khôn Thổ
    case 7: // Cấn Thổ
      k = 1; break; // Hỏa sinh Thổ: tướng
    } break;
  case 7: case 8: // Thu Kim
    switch(quai)
    {
    case 1: // Kiền Kim
    case 2: // Đoài Kim
      k = 0; break; // Kim Vượng
    case 3: // Ly Hỏa
      k = 3; break; // Hỏa Tù thành vô khí
    case 4: // Chấn Mộc
    case 5: // Tốn Mộc
      k = 4; break; // Mộc Tử thành vô khí
    case 6: // Khảm Thủy
      k = 1; break; // Kim sinh Thủy: Tướng
    case 0: // Khôn Thổ
    case 7: // Cấn Thổ
      k = 2; break; // Thổ Hưu (già)
    } break;
  case 10: case 11: // Đông Thủy
    switch(quai)
    {
    case 1: // Kiền Kim
    case 2: // Đoài Kim
      k = 2; break; // Kim Hưu (già)
    case 3: // Ly Hỏa
      k = 4; break; // Hỏa Tử thành vô khí
    case 4: // Chấn Mộc
    case 5: // Tốn Mộc
      k = 1; break; // Mộc Tướng
    case 6: // Khảm Thủy
      k = 0; break; // Thủy Vượng
    case 0: // Khôn Thổ
    case 7: // Cấn Thổ
      k = 3; break; // Thổ Tù thành vô khí
    } break;
  }
  return k;
}

//〔 Luận đoán quẻ
function luanDoan(ketqua, chu, khach, month)
{
  var khi;
  var s = "";
  if (month == 0)
  {
    s = " tức " + CatHung[ketqua];
    return s;
  }

  switch(ketqua) {
  case 0: // 〔Tỷ hòa
    khi = xemKhi(month, chu);
    if (khi < 2)
      s = " tức " + CatHung[ketqua];
    else
      s = " nhưng tháng "+month+" "+quai_hanh[chu]+" là "+TuThoi[khi]+" khí";
    break;
  case 1: //〔 Dụng sinh Thể
    khi = xemKhi(month, khach);
    if (khi < 2)
      s = " tức " + CatHung[ketqua];
    else if (khi == 2)
      s = " nhưng tiết tháng "+month+", "+quai_hanh[khach]+" là "+TuThoi[khi]+" khí;\ncho nên không hoàn toàn tốt";
    else
      s = " nhưng tiết tháng "+month+", "+quai_hanh[khach]+" là "+TuThoi[khi]+" khí;\ncho nên là vô khí, vô cát";
    break;
  case 2: // 〔Dụng khắc Thể
    khi = xemKhi(month, khach);
    if (khi < 2)
      s = " tức " + CatHung[ketqua];
    else if (khi == 2)
      s = " nhưng tiết tháng "+month+", "+quai_hanh[khach]+" là "+TuThoi[khi]+" khí;\ncho nên đỡ hung";
    else
      s = " nhưng tiết tháng "+month+", "+quai_hanh[khach]+" là "+TuThoi[khi]+" khí;\ncho nên vô hại";
    break;
  case 3: //〔 Thể sinh Dụng
    khi = xemKhi(month, chu);
    if (khi < 2)
      s = " tức " + CatHung[ketqua];
    else if (khi == 2)
      s = " nhưng tiết tháng "+month+", "+quai_hanh[chu]+" là "+TuThoi[khi]+" khí;\ntiết khí, cho nên bất lợi";
    else
      s = " nhưng tiết tháng "+month+", "+quai_hanh[chu]+" là "+TuThoi[khi]+" khí;\ntiết khí, nhưng là vô khí";
    break;
  case 4: //〔 Thể khắc dụng
    khi = xemKhi(month, chu);
    if (khi < 2)
      s = " tức " + CatHung[ketqua];
    else if (khi == 2)
      s = " nhưng tiết tháng "+month+", "+quai_hanh[chu]+" là "+TuThoi[khi]+" khí";
    else
      s = " nhưng tiết tháng "+month+", "+quai_hanh[chu]+" là "+TuThoi[khi]+" khí;\ncho nên là vô khí, vô cát";
    break;
  default:
    s = " tức " + CatHung[ketqua];
    break;
  }
  return s;
}

var z=0;
var concurrent = 0;
var colors = new Array("black", "red");
var blinkObj = new Array();

function doFlash()
{
  if (z) z = 0;
  else z = 1;
  if (concurrent) {
    if (NS) setTimeout("doFlash()",700);
    return;
  }
  var hObj;
  for (i=0; i < blinkObj.length; i++)
  {
    hObj = eval(blinkObj[i])
    hObj.style.color = colors[z];
  }
  if (NS) setTimeout("doFlash()",700);
}

var bonQue=null, bienQue=null; //〔 Bổn Quẻ và Biến Quẻ
var hoQue=null; // Hỗ Bổn
var DUONG = "visible";
var AM = "hidden";

function layQue()
{
  var iYear, iMon, iDay, iHour, iMin;
  with (MaiHoa) {
    iYear = parseInt(year.value);
    iMon  = parseInt(month.value);
    iDay  = parseInt(day.value);
    iHour = parseInt(hour.value);
    iMin  = parseInt(min.value);
    if (isNaN(iYear)) {
      alert("Xin vui lòng điền vào năm!");
      MaiHoa.year.focus();
      return;
    }
  }
  var oLich = new MaiHoaDate(iDay, iMon, iYear);
  var s = "";
  var gio = 0;
  switch(iHour)
  {
  case 0: case 23:
    gio = 1;
    break;
  default:
    iHour += 1;
    gio = parseInt(iHour / 2) + 1;
    break;
  }

  var jNam;
  if (MaiHoa.TietThang[0].checked == true)
    jNam = ((oLich.year + 8) % 12) + 1;
  else
    jNam = ((oLich.tue + 8) % 12) + 1;

  var th_quai = 0;
  var ha_quai = 0;
  var donghao = 0;

  if (MaiHoa.ChonLua[1].checked == true)
  {
    th_quai = parseInt(MaiHoa.quai1.value);
    if (th_quai == 8)
      th_quai = 0;
    ha_quai = parseInt(MaiHoa.quai2.value);
    if (ha_quai == 8)
      ha_quai = 0;
    donghao = parseInt(MaiHoa.haodong.value);
    s = "Tự nhập thượng quái: " + quai_danh[th_quai] + " và hạ quái: " + quai_danh[ha_quai];
  }
  else {
    var TQ, HQ, S2, GiaSo;
    if (MaiHoa.ChonLua[0].checked == true)
    {
      GiaSo = parseInt(MaiHoa.giaso.value);
      if (isNaN(GiaSo))
        GiaSo = 0;
      if (MaiHoa.TietThang[0].checked == true)
        TQ = jNam + oLich.month + oLich.day;
      else if (MaiHoa.TietThang[1].checked == true)
        TQ = jNam + oLich.tiet + oLich.tn; //〔 Dùng tiết tháng và ngày sau tiết lệnh
      else
        TQ = jNam + oLich.tiet + oLich.day; // 〔Dùng tiết tháng và ngày trong tháng AL
      HQ = TQ + gio + GiaSo;
    }
    else if (MaiHoa.ChonLua[4].checked == true)
    {
      iYear = parseInt(MaiHoa.al_nam.value) + 1;
      iMon  = parseInt(MaiHoa.al_thang.value);
      iDay  = parseInt(MaiHoa.al_ngay.value);
      iHour = parseInt(MaiHoa.al_gio.value) + 1;
      GiaSo = parseInt(MaiHoa.al_giaso.value);
      if (isNaN(GiaSo))
        GiaSo = 0;
      TQ = iYear + iMon + iDay;
      HQ = TQ + iHour + GiaSo;
    }
    else
    {
      TQ = parseInt(MaiHoa.sotren.value);
      S2 = parseInt(MaiHoa.soduoi.value);
      if (MaiHoa.ChonLua[2].checked == true)
        HQ = S2 + gio;
      else
        HQ = TQ + S2;
    }
    th_quai = (TQ % 8);
    ha_quai = (HQ % 8);
    donghao = (HQ % 6);
    if (donghao == 0) donghao = 6;

    var thang = 0;
    var tueCan,tueChi,ngCan,ngChi,nhCan,nhChi,thCan,thChi;
    if (MaiHoa.ChonLua[0].checked == true)
    {
      if (MaiHoa.TietThang[0].checked == true)
      {
        tueCan = TueCan(oLich.year);
        tueChi = TueChi(oLich.year);
        ngCan=ThienCan(oLich.mm);
        ngChi=DiaChi(oLich.mm);
        s = "Năm " + tueCan + " " + tueChi;
        s += ", tháng " + ngCan + " " + ngChi;
        thang = oLich.month;
      }
      else
      {
        tueCan = TueCan(oLich.tue);
        tueChi = TueChi(oLich.tue);
        ngCan=NguyetCan(tueCan, oLich.tiet-1);
        thang=(oLich.tiet+1)%12;
        ngChi=CHI[thang]; // Dùng tiết tháng
        s = "Năm " + tueCan + " " + tueChi;
        s += ", tiết tháng " + ngCan + " " + ngChi;
        thang = oLich.tiet;
      }
      nhCan = ThienCan(oLich.dd);
      nhChi = DiaChi(oLich.dd);
      thCan = ThoiCan(ThienCan(oLich.dd) , gio-1);
      thChi = CHI[gio-1];
      s += ", ngày " + nhCan + " " + nhChi;
      s += ", giờ " + ThoiCan(ThienCan(oLich.dd) , gio-1) + " " + CHI[gio-1];
    }
    else if (MaiHoa.ChonLua[2].checked == true)
      s = "Tự nhập số_1 là " + TQ + " và số_2 là " + S2 + " vào giờ " + CHI[gio-1];
    else if (MaiHoa.ChonLua[3].checked == true)
      s = "Tự nhập số_1 là " + TQ + " và số_2 là " + S2;
    else if (MaiHoa.ChonLua[4].checked == true)
    {
      s = "Tự chọn âm lịch";
      thang = iMon;
    }
    else
      s = "Tự chọn lịch như chỉ định";
  }

  // Lập Bổn Quẻ, Hỗ Quẻ, và Biến Quẻ
  if (bonQue!=null) xoaQue(bonQue);
  bonQue = new lapQue(th_quai, ha_quai);
  if (hoQue!=null) xoaQue(hoQue);
  hoQue = new lapHoQue(bonQue);
  if (bienQue!=null) xoaQue(bienQue);
  bienQue = new lapBienQue(bonQue, donghao);

  var chu, khach, b_chu, b_khach, ho_chu, ho_khach;

  if (donghao < 4)
  {
    if (donghao == 0)
    {
      Write('ThuongQuai', "X");
      Write('HaQuai', "X");
    }
    else
    {
      Write('ThuongQuai', "Thể");
      Write('HaQuai', "Dụng");
    }
    chu = bonQue.tq;
    khach = bonQue.hq;
    ho_chu = hoQue.tq;
    ho_khach = hoQue.hq;
    b_chu = bienQue.tq;
    b_khach = bienQue.hq;
  }
  else
  {
    Write('ThuongQuai', "Dụng");
    Write('HaQuai', "Thể");
    chu = bonQue.hq;
    khach = bonQue.tq;
    ho_chu = hoQue.hq;
    ho_khach = hoQue.tq;
    b_chu = bienQue.hq;
    b_khach = bienQue.tq;
  }

  // Reset colors
  concurrent = 1;
  for (i=0; i < blinkObj.length; i++)
  {
    SetColor(blinkObj[i], colors[0]);
    delete blinkObj[i];
    blinkObj[i] = null;
  }
  blinkObj.length = 0;
  delete blinkObj;

  SetView('MaiHoaText', "visible");
  Write('ChiemQue', s);
  Write('ChuQue', layTrungQuai(bonQue.tq, bonQue.hq));
  Write('yChuQue', ynghia(bonQue.tq, bonQue.hq));
  Write('BQ_TQ', quai_danh[bonQue.tq]);
  Write('BQ_TH', quai_hanh[bonQue.tq]);
  Write('BQ_HQ', quai_danh[bonQue.hq]);
  Write('BQ_HH', quai_hanh[bonQue.hq]);

  var j;
  var hao = "";
  var hid;
  for (i=0; i < bonQue.hao.length; i++)
  {
    j=i+1;
    hao = ((bonQue.hao[6-j].hao == 9) ? DUONG : AM);
    hid = 'BQ_H'+(6-i);
    if (donghao && (6-i)==donghao)
      blinkObj.push(hid);
    SetView(hid+'C', hao);
  }

  Write('HoQue', layTrungQuai(hoQue.tq, hoQue.hq));
  Write('yHoQue', ynghia(hoQue.tq, hoQue.hq));
  Write('HQ_TQ', quai_danh[hoQue.tq]);
  Write('HQ_TH', quai_hanh[hoQue.tq]);
  Write('HQ_HQ', quai_danh[hoQue.hq]);
  Write('HQ_HH', quai_hanh[hoQue.hq]);
  for (i=0; i < hoQue.hao.length; i++)
  {
    j=i+1;
    hao = ((hoQue.hao[6-j].hao == 9) ? DUONG : AM);
    SetView('HQ_H'+(6-i)+'C', hao);
  }

  Write('BienQue', layTrungQuai(bienQue.tq, bienQue.hq));
  Write('yBienQue', ynghia(bienQue.tq, bienQue.hq));
  Write('QB_TQ', quai_danh[bienQue.tq]);
  Write('QB_TH', quai_hanh[bienQue.tq]);
  Write('QB_HQ', quai_danh[bienQue.hq]);
  Write('QB_HH', quai_hanh[bienQue.hq]);
  for (i=0; i < bienQue.hao.length; i++)
  {
    j=i+1;
    hao = ((bienQue.hao[6-j].hao == 9) ? DUONG : AM);
    hid = 'QB_H'+(6-i);
    if (donghao && (6-i)==donghao)
      blinkObj.push(hid);
    SetView(hid+'C', hao);
  }

  if (MaiHoa.ChonLua[0].checked == true)
  {
    var kv = khongVong(tueCan,tueChi); // Tuế
    if (MaiHoa.TietThang[0].checked == true)
      Write('m_nam', oLich.year);
    else
      Write('m_nam', oLich.tue);
    Write('m_nam_cc', tueCan+" "+tueChi);
    Write('m_nam_kv', CHI[kv]+" "+CHI[kv+1]);

    kv = khongVong(ngCan,ngChi); // Nguyệt
    Write('m_tiet', thang);
    Write('m_tiet_cc', ngCan+" "+ngChi);
    Write('m_tiet_kv', CHI[kv]+" "+CHI[kv+1]);

    kv = khongVong(nhCan,nhChi); // Nhật
    Write('m_nhat', oLich.day);
    Write('m_nhat_cc', nhCan+" "+nhChi);
    Write('m_nhat_kv', CHI[kv]+" "+CHI[kv+1]);

    kv = khongVong(thCan,thChi); // Thời
    Write('m_thoi', iHour);
    Write('m_thoi_cc', thCan+" "+thChi);
    Write('m_thoi_kv', CHI[kv]+" "+CHI[kv+1]);

    kv = gioKhongVong(nhCan); // Nhật -> Giờ
    Write('m_ngay_cc', nhCan);
    Write('m_gio_kv', CHI[kv]+" "+CHI[kv+1]);
    SetView('kv_luan', "visible");
  }
  else
  {
    SetView('kv_luan', "hidden");
  }
  if (donghao > 0)
    s = "Hào " + donghao + " động";
  else
    s = "Không có hào động";
  Write('m_haodong', s);

  if (donghao != 0)
  {
    var cq = soSanh(chu, khach);
    var bq = soSanh(b_chu, b_khach);
    var hq = soSanh(ho_chu, ho_khach);
    var ch = soSanh(chu, ho_chu);
    var kh = soSanh(khach, ho_khach);
    s = (laySo(chu) + laySo(khach) + laySo(b_chu) + laySo(b_khach) + laySo(ho_chu) + laySo(ho_khach));
    SetView('MaiHoaGiai', "visible");
    Write('m_bonQue', TheDung[cq]);
    Write('l_bonQue', luanDoan(cq, chu, khach, thang));
    Write('m_theHo', TheHo[ch]);
    Write('l_theHo', TheCatHung[ch]);
    Write('m_dungHo', DungHo[kh]);
    Write('l_dungHo', DungCatHung[kh]);
    Write('m_hoQue', TheDung[hq]);
    Write('l_hoQue', luanDoan(hq, ho_chu, ho_khach, thang));
    Write('m_bienQue', TheDung[bq]);
    Write('l_bienQue', luanDoan(bq, b_chu, b_khach, thang));
    Write('m_tongSo', s);
  }
  else {
      SetView('MaiHoaGiai', "hidden");
  }
  delete oLich;
  concurrent = 0;
}

// Xóa quẻ
function xoaMaiHoa()
{
  if (IE) {
    document.all.MaiHoaText.style.visibility = "hidden";
    document.all.MaiHoaGiai.style.visibility = "hidden";
  } else {
    document.getElementById('MaiHoaText').style.visibility = "hidden";
    document.getElementById('MaiHoaGiai').style.visibility = "hidden";
  }
  MaiHoa.ChonLua[0].checked = true;
  MaiHoa.giaso.value  = 0;
  MaiHoa.sotren.value = 0;
  MaiHoa.soduoi.value = 0;
  MaiHoa.quai1.value = 1;
  MaiHoa.quai2.value = 1;
  MaiHoa.haodong.value = 0;
  concurrent = 1;
  var i;
  for (i=0; i < blinkObj.length; i++)
  {
    SetColor(blinkObj[i], colors[0]);
    delete blinkObj[i];
    blinkObj[i] = null;
  }
  blinkObj.length = 0;
  delete blinkObj;

  // NS does not handle on the sub threads
  if (NS) for (i=1; i <= 6; i++)
  {
    SetView('BQ_H'+i+'C', "hidden");
    SetView('HQ_H'+i+'C', "hidden");
    SetView('QB_H'+i+'C', "hidden");
  }

  capThoi();
}

function yKienXayDung()
{
  var s = "Xin cám ơn quí vị dùng kế chương này. Nếu quí vị có ý kiến và có lòng\n";
  s += "hảo tâm muốn đóng góp xây dựng để có bản kế chương tốt đẹp hơn trong\n";
  s += "tương lai; xin vui lòng liên lạc với tác giả Thiên Y qua địa chỉ sau:\n";
  s += "\tthien.y@operamail.com\n";
  s += "Đa tạ";
  alert(s);
}

function layCan(CanChi)
{
  var i = 0;
  var j = CanChi.indexOf(' ');
  return CanChi.substring(i, j);
}

function layChi(CanChi)
{
  var j = CanChi.indexOf(' ');
  var i = j + 1;
  j = CanChi.length;
  return CanChi.substring(i, j);
}

function XemCanChi(m)
{
}

function chiTiet(muc)
{if (t_quai!=1)   var s = "Xin cám ơn quí vị dùng kế chương này. Nếu quí vị có ý kiến và có lòng\n";
  s += "hảo tâm muốn đóng góp xây dựng để có bản kế chương tốt đẹp hơn trong\n";
  s += "tương lai; xin vui lòng liên lạc với tác giả Thiên Y qua địa chỉ sau:\n";
  s += "\tthien.y@operamail.com\n";
  s += "Đa tạ";
  alert(s);
}




var xml = xmlObject();

function xmlObject () {
	if (typeof XMLHttpRequest == 'undefined') {
		objects = Array(
			'Microsoft.XmlHttp',
			'MSXML2.XmlHttp',
			'MSXML2.XmlHttp.3.0',
			'MSXML2.XmlHttp.4.0',
			'MSXML2.XmlHttp.5.0'
		);
		for (i = 0; i < objects.length; i++) {
			try {
				return new ActiveXObject(objects[i]);
			} catch (e) {}
		}
	} else {
		return new XMLHttpRequest();
	}
}

function go(){
	var a;
	var f=document.forms['cidu'];
	if ( (f.iyear.value >0) && (f.imonth.value >0) && f.idate.value <0)	{
		alert("Vui lòng chọn Ngày cần xem...!");
		f.idate.focus();
		return false;
	}else
	if ( (f.iyear.value >0 && f.imonth.value <0 && f.idate.value >0 ) )	{
		alert("Vui lòng chọn Tháng cần xem...!");
		f.imonth.focus();
		return false;
	} else {
	doParser();
	}
	return false;
}

function doParser(){
	var iyear,imonth,idate,ihour;
	
	iyear		= document.getElementById('iyear').value;
	imonth		= document.getElementById('imonth').value;
	idate		= document.getElementById('idate').value;
	ihour		= document.getElementById('ihour').value;
	ilang		= document.getElementById('ilang').value;
	if(iyear){
	xml.open('POST','index.php');
	document.getElementById('content').style.display='block';
	document.getElementById('thaiatthanso').innerHTML="<center><img src='images/giallo.gif'><br>Loading, plz wait ^^...</center>";
	
	xml.setRequestHeader('Content-Type', 'application/x-www-form-urlencoded');
	xml.onreadystatechange = handleResponse;
	ab = ('iyear='+iyear + '&imonth='+imonth + '&idate='+idate + '&ihour='+ihour + '&ilang='+ilang);
	xml.send(ab);
	return false;
	};
};

function handleResponse() {
	try {
		if((xml.readyState == 4)&&(xml.status == 200)){
			response = xml.responseText;
			document.getElementById('thaiatthanso').innerHTML=xml.responseText;
		}
  	}
	catch(e){}
	finally{}
}

function OnToday()
{
    //Get Today's Date getFullYear, getSeconds, getMonth
	var today = new Date();
	document.getElementById('iyear').value = today.getFullYear();
	document.getElementById('imonth').value = today.getMonth()+1;
	document.getElementById('idate').value = today.getDate();
	document.getElementById('ihour').value = today.getHours();
	//document.getElementById('imin').value = today.getMinutes();
	
}

function closeThaiAt() {
		document.getElementById('content').style.display = 'none';
}

function changelang() {
	if (document.cidu.ilang[1].checked)
	{
		document.getElementById('headla').innerHTML= '太乙神数排盘系统';
		document.getElementById('info1').innerHTML= '阳历';
		document.getElementById('info2').innerHTML= '&nbsp;月份&nbsp;';
		document.getElementById('info3').innerHTML= '&nbsp;日期&nbsp;';
		document.getElementById('info4').innerHTML= '&nbsp;小时&nbsp;';
		document.getElementById('info8').innerHTML= '&nbsp;西元年份 &nbsp;';
		document.getElementById('lapban').value= '开始计算';
	}else{
		document.getElementById('headla').innerHTML= 'THÁI ẤT THẦN SỐ LẬP BÀN';
		document.getElementById('info1').innerHTML= 'Dương lịch';
		document.getElementById('info2').innerHTML= '&nbsp;Tháng&nbsp;';
		document.getElementById('info3').innerHTML= '&nbsp;Ngày&nbsp;';
		document.getElementById('info4').innerHTML= '&nbsp;Giờ&nbsp;';
		document.getElementById('info8').innerHTML= '&nbsp;Năm&nbsp;';
		document.getElementById('lapban').value= ' Lập bàn ';
	}
}











  
  
  
  
</script>

<style>

#mini-nav{
right:10px;
top:20px;
width:100px;
background-color:#FFF;
border:1px solid #fff;
line-height:16px;
position:fixed;_position:absolute;_top:
expression(eval(document.body.scrollTop));
padding:3px;}

#mini-nav img{padding-bottom:5px;}

#mini-left{
left:2px;
top:20px;
width:100px;
background-color:#FFF;
border:1px solid #fff;
line-height:16px;
position:fixed;_position:absolute;_top:
expression(eval(document.body.scrollTop));
padding:3px;}

#mini-left img{padding-bottom:2px;}

</style>

</head>	


<body onLoad="javascript:Init();">

	<div id="container">
		<div id="header">
			<div id="accessor">
<embed src="images/bg.swf" quality="high" pluginspage="http://www.macromedia.com/go/getflashplayer";; type="application/x-shockwave-flash" menu="false" wmode="transparent"  width="200" height="80" style="position: absolute" >
				</embed>			
			</div>
		
		</div>
		<hr />
<br class="clr" />
<style type="text/css">
<!--
.STYLE1 {color: #FF0000}

a:link {
	color: #006666;
}
a:visited {
	color: #800000;
}
-->
</style>

<div align="center">

</div>
<br class="clr" />
		

<center>
<h1>Mai Hoa Dịch Số</h1>

<TABLE border="1" cellSpacing="0">
  <FORM name="MaiHoa" ACTION="">
  <TR>
    <TD colSpan="3" align="center"><FONT face="Arial" size=4>Chiêm theo lịch hoặc tự chọn-viết bởi Thiên Y</FONT></TD>
  </TR>
  <FORM name="MaiHoa" ACTION="">
  <TR>
    <TD colSpan="3" align=center><TABLE border="0" cellSpacing="0">
      <TR>
        <TD><FONT face=Arial size=2>Năm</FONT></TD>
        <TD><FONT face=Arial size=2>Tháng</FONT></TD>
        <TD><FONT face=Arial size=2>Ngày</FONT></TD>
        <TD><FONT face=Arial size=2>Giờ</FONT></TD>
        <TD><FONT face=Arial size=2>Phút</FONT></TD>
        <TD><FONT face=Arial size=2>Giây</FONT></TD>
      </TR>
	  
      <TR>
        <TD><INPUT TYPE="text" style="FONT-SIZE:12pt" SIZE="1" MAXLENGTH="4" NAME="year"><script language="Javascript">
          if (NS) document.getElementById('year').size = "2";
          document.MaiHoa.year.value = CY;
          </script>
        </TD>
        <TD><SELECT style="FONT-SIZE:12pt" NAME="month"><script language="Javascript">setupOption('M')</script></SELECT></TD>
        <TD><SELECT style="FONT-SIZE:12pt" NAME="day"><script language="Javascript">setupOption('D')</script></SELECT></TD>
        <TD><SELECT style="FONT-SIZE:12pt" NAME="hour"><script language="Javascript">setupOption('H')</script></SELECT></TD>
        <TD><SELECT style="FONT-SIZE:12pt" NAME="min"><script language="Javascript">setupOption('m')</script></SELECT></TD>
        <TD><SELECT style="FONT-SIZE:12pt" NAME="sec"><script language="Javascript">setupOption('s')</script></SELECT></TD>
      </TR>
    </TABLE></TD>
  </TR>
  <TR>
    <TD colSpan="3" align=center>
      <FONT face=Arial size=4>Cách chọn lấy quẻ</FONT><br>
      <input type="radio" name="TietThang" checked><FONT face=Arial size=3 color=blue>Tháng</FONT>
      <input type="radio" name="TietThang"> <FONT face=Arial size=3 color=blue>Tiết</FONT>
      <input type="radio" name="TietThang"> <FONT face=Arial size=3 color=blue>Tiết+Ngày AL</FONT>
    </TD>
  </TR>
  <TR align=center>
    <TD>
      <TABLE border="0" cellSpacing="0"> <!-- style="width=150;" -->
      <TR align=center>
        <TD><input type="radio" name="ChonLua" checked><FONT face=Arial size=3 color=blue>Theo lịch</FONT></TD>
      </TR>
      <TR align=center>
        <TD><FONT face=Arial size=2>Gia Số</FONT></TD>
      </TR>
      <TR align=center>
        <TD><INPUT style="FONT-SIZE:12pt" TYPE="text" SIZE="1" MAXLENGTH="4" VALUE="0" NAME="giaso"></TD>
      </TR>
      </TABLE>
    </TD>
    <TD>
      <TABLE border="0" cellSpacing="0"> <!-- style="width=150;"-->
      <TR align=center>
        <TD colSpan=3><input type="radio" name="ChonLua"><FONT face=Arial size=3 color=blue>Nhập quái</FONT></TD>
      </TR>
      <TR align=center>
        <TD><FONT face=Arial size=2>Quái 1</FONT></TD>
        <TD><FONT face=Arial size=2>Quái 2</FONT></TD>
        <TD><FONT face=Arial size=2>Hào động</FONT></TD>
      </TR>
      <TR align=center>
        <TD><SELECT style="FONT-SIZE:12pt" NAME="quai1"><script language="Javascript">setupOption('Q')</script></SELECT></TD>
        <TD><SELECT style="FONT-SIZE:12pt" NAME="quai2"><script language="Javascript">setupOption('Q')</script></SELECT></TD>
        <TD><SELECT style="FONT-SIZE:12pt" NAME="haodong"><script language="Javascript">setupOption('Y')</script></SELECT></TD>
      </TR>
      </TABLE>
    </TD>
    <TD>
      <TABLE border="0" cellSpacing="0"> <!-- style="width=150;" -->
      <TR align=center>
        <TD><input type="radio" name="ChonLua"><FONT face=Arial size=3 color=blue>Số+giờ</FONT></TD>
        <TD><input type="radio" name="ChonLua"><FONT face=Arial size=3 color=blue>Số</FONT></TD>
      </TR>
      <TR align=center>
        <TD><FONT face=Arial size=2>Số 1</FONT></TD>
        <TD><FONT face=Arial size=2>Số 2</FONT></TD>
      </TR>
      <TR align=center>
        <TD><INPUT style="FONT-SIZE:12pt" TYPE="text" SIZE="1" MAXLENGTH="4" VALUE="0" NAME="sotren"></TD>
        <TD><INPUT style="FONT-SIZE:12pt" TYPE="text" SIZE="1" MAXLENGTH="4" VALUE="0" NAME="soduoi"></TD>
      </TR>
      </TABLE>
    </TD>
  </TR>
  <TR>
    <TD colSpan="3" align=center>
      <TABLE border="0" cellSpacing="0"> <!-- style="width=150;"-->
      <TR align=center>
        <TD colSpan=5><input type="radio" name="ChonLua"><FONT face=Arial size=3 color=blue>Tự nhập âm lịch</FONT></TD>
      </TR>
      <TR align=center>
        <TD><FONT face=Arial size=2>Năm</FONT></TD>
        <TD><FONT face=Arial size=2>Tháng</FONT></TD>
        <TD><FONT face=Arial size=2>Ngày</FONT></TD>
        <TD><FONT face=Arial size=2>Giờ</FONT></TD>
        <TD><FONT face=Arial size=2>Gia số</FONT></TD>
      </TR>
      <TR align=center>
        <TD><SELECT style="FONT-SIZE:12pt" NAME="al_nam">
            <script language="Javascript">
              k = ((CL.year + 8) % 12);
              for (var i=0;i<12;i++)
                document.write("<option value=" + i + (i == k ? " selected>" : ">") + CHI[i] + "</option>");
            </script>
          </SELECT>
        </TD>
        <TD><SELECT style="FONT-SIZE:12pt" NAME="al_thang"><script language="Javascript">setupOption('n')</script></SELECT></TD>
        <TD><SELECT style="FONT-SIZE:12pt" NAME="al_ngay"><script language="Javascript">setupOption('d')</script></SELECT></TD>
        <TD><SELECT style="FONT-SIZE:12pt" NAME="al_gio">
            <script language="Javascript">
              var k = parseInt(Today.getHours()) + 1;
              k = parseInt(k / 2);
              for (var i=0;i<12;i++)
                document.write("<option value=" + i + (i == k ? " selected>" : ">") + CHI[i] + "</option>");
            </script>
          </SELECT>
        <TD><INPUT TYPE="text" style="FONT-SIZE:12pt" SIZE="1" MAXLENGTH="4" VALUE="0" NAME="al_giaso"></TD>
        </TD>
      </TR>
      </TABLE>
    </TD>
  </TR>
  <TR>
    <TD colSpan="3" align=center>
      <FONT face=Arial size=3 color=blue>Trợ dụng Tiên Thiên Quái Số</FONT><BR><FONT face=Arial size=2>
        <script language="Javascript">
          var s = "";
          for (var i=1;i<8;i++)
            s += quai_danh[i] + " " + i + ", ";
          s += quai_danh[0] + " 8";
          document.write(s);
        </script>
      </FONT>
    </TD>
  </TR>
  </FORM>
  <TR> <!-- CONTROL PANEL -->
    <TD colSpan="3" align=center><TABLE border="0" cellSpacing="0"> 
      <TR>
        <TD><BUTTON style="width=200;height=52;FONT-SIZE:22pt" onclick="layQue()">Chiêm</BUTTON></TD>
        <TD><FONT face="Courier New" size=2>&nbsp;</FONT></TD>
        <TD><FONT face="Courier New" size=2>&nbsp;</FONT></TD>
        <TD><BUTTON style="width=200;height=52;FONT-SIZE:22pt" onclick="capThoi()">Cập giờ</BUTTON></TD>
        <TD><FONT face="Courier New" size=2>&nbsp;</FONT></TD>
        <TD><FONT face="Courier New" size=2>&nbsp;</FONT></TD>
        <TD><BUTTON style="width=200;height=52;FONT-SIZE:22pt" onclick="xoaMaiHoa()">Xóa</BUTTON></TD>
      </TR></TABLE>
    </TD>
  </TR>
</TABLE>

<BR>
<TABLE align=center border="1" cellPadding="3" cellSpacing="0" style="visibility:hidden" id="MaiHoaText" background="wm1.jpg">
  <TR>
    <TD colSpan=11 align="center"><FONT face="Times New Roman" size=5 color=green>Mai Hoa Dịch Số<br></FONT><FONT face="Times New Roman" size=4 ID="ChiemQue"></FONT></TD>
  </TR>
  <TR>
    <TD align="center" onclick="yKienXayDung();"></TD>
    <TD align="center" onclick=javascript:chiTiet(1) style="cursor:hand"><FONT face=Arial size=3>Bổn Quẻ<BR>
	<FONT face="Times New Roman" size=4 color=blue ID="ChuQue"><BR>	</FONT>
	</TD>
    <TD align="center" onclick=javascript:chiTiet(2) style="cursor:hand"><FONT face=Arial size=3>Hỗ Quẻ<BR>
	<FONT face="Times New Roman" size=4 color=blue ID="HoQue"> <BR>	</FONT>
	</TD>
    <TD align="center" onclick=javascript:chiTiet(3) style="cursor:hand"><FONT face=Arial size=3>Biến Quẻ<BR>
	<FONT face="Times New Roman" size=4 color=blue ID="BienQue"><BR>	</FONT>
	</TD>
  
  
  </TR><TR>
    <TD align="center" onclick="yKienXayDung();"></TD>
    <TD align="center" onclick=javascript:chiTiet(1) style="cursor:hand"><FONT face=Arial size=3><BR>
	<FONT face="Times New Roman" size=3 color=blue ID="yChuQue"><BR>	</FONT>
	</TD>
    <TD align="center" onclick=javascript:chiTiet(2) style="cursor:hand"><FONT face=Arial size=3><BR>
	<FONT face="Times New Roman" size=3 color=blue ID="yHoQue"> <BR>	</FONT>
	</TD>
    <TD align="center" onclick=javascript:chiTiet(3) style="cursor:hand"><FONT face=Arial size=3><BR>
	<FONT face="Times New Roman" size=3 color=blue ID="yBienQue"><BR>	</FONT>
	</TD>
  
  
  </TR>
  <TR> <!- Thể Dụng ->
    <TD align="center"><table border="0" cellpadding="2" cellspacing="0" style="border-collapse: collapse" bordercolor="#111111">
      <tr>
        <TD rowSpan=3 align="left"><FONT face=Arial size=4 ID="ThuongQuai">X</FONT></TD>
        <td align="center"><FONT face="Courier New" size=3>&nbsp;</FONT></td>
      </tr>
      <tr><td align="center"><FONT face="Courier New" size=3>-></FONT></td></tr>
      <tr><td align="center"><FONT face="Courier New" size=3>&nbsp;</FONT></td></tr>
      <tr>
        <TD rowSpan=3 align="left"><FONT face=Arial size=4 ID="HaQuai">Y</FONT></TD>
        <td align="center"><FONT face="Courier New" size=3>&nbsp;</FONT></td>
      </tr>
      <tr><td align="center"><FONT face="Courier New" size=3>-></FONT></td></tr>
      <tr><td align="center"><FONT face="Courier New" size=3>&nbsp;</FONT></td></tr>
    </table></td>
    <!-- Thượng Quái -- Hạ Quái -->
    <TD align="center"><table border="0" cellpadding="2" cellspacing="0" style="border-collapse: collapse" bordercolor="#111111">
      <tr>
        <td rowSpan=3 align="center"><FONT face=Arial size=4 ID="BQ_TQ">Ly</FONT></td>
        <td align="center"><FONT face=Arial size=3 ID="BQ_H6">▬▬<SPAN ID="BQ_H6C">▬▬</SPAN>▬▬</FONT></td>
        <td rowSpan=3 align="center"><FONT face=Arial size=4 ID="BQ_TH">Hỏa</FONT></td>
      </tr>
      <tr><td align="center"><FONT face=Arial size=3 ID="BQ_H5">▬▬<SPAN ID="BQ_H5C">▬▬</SPAN>▬▬</FONT></td></tr>
      <tr><td align="center"><FONT face=Arial size=3 ID="BQ_H4">▬▬<SPAN ID="BQ_H4C">▬▬</SPAN>▬▬</FONT></td></tr>
      <tr>
        <td rowSpan=3 align="center"><FONT face=Arial size=4 ID="BQ_HQ">Ly</FONT></td>
        <td align="center"><FONT face=Arial size=3 ID="BQ_H3">▬▬<SPAN ID="BQ_H3C">▬▬</SPAN>▬▬</FONT></td>
        <td rowSpan=3 align="center"><FONT face=Arial size=4 ID="BQ_HH">Hỏa</FONT></td>
      </tr>
      <tr><td align="center"><FONT face=Arial size=3 ID="BQ_H2">▬▬<SPAN ID="BQ_H2C">▬▬</SPAN>▬▬</FONT></td></tr>
      <tr><td align="center"><FONT face=Arial size=3 ID="BQ_H1">▬▬<SPAN ID="BQ_H1C">▬▬</SPAN>▬▬</FONT></td></tr>
    </table></td>
    <TD align="center"><table border="0" cellpadding="2" cellspacing="0" style="border-collapse: collapse" bordercolor="#111111">
      <tr>
        <td rowSpan=3 align="center"><FONT face=Arial size=4 ID="HQ_TQ">Ly</FONT></td>
        <td align="center"><FONT face=Arial size=3 ID="HQ_H6">▬▬<SPAN ID="HQ_H6C">▬▬</SPAN>▬▬</FONT></td>
        <td rowSpan=3 align="center"><FONT face=Arial size=4 ID="HQ_TH">Hỏa</FONT></td>
      </tr>
      <tr><td align="center"><FONT face=Arial size=3 ID="HQ_H5">▬▬<SPAN ID="HQ_H5C">▬▬</SPAN>▬▬</FONT></td></tr>
      <tr><td align="center"><FONT face=Arial size=3 ID="HQ_H4">▬▬<SPAN ID="HQ_H4C">▬▬</SPAN>▬▬</FONT></td></tr>
      <tr>
        <td rowSpan=3 align="center"><FONT face=Arial size=4 ID="HQ_HQ">Ly</FONT></td>
        <td align="center"><FONT face=Arial size=3 ID="HQ_H3L">▬▬<SPAN ID="HQ_H3C">▬▬</SPAN>▬▬</FONT></td>
        <td rowSpan=3 align="center"><FONT face=Arial size=4 ID="HQ_HH">Hỏa</FONT></td>
      </tr>
      <tr><td align="center"><FONT face=Arial size=3 ID="HQ_H2">▬▬<SPAN ID="HQ_H2C">▬▬</SPAN>▬▬</FONT></td></tr>
      <tr><td align="center"><FONT face=Arial size=3 ID="HQ_H1">▬▬<SPAN ID="HQ_H1C">▬▬</SPAN>▬▬</FONT></td></tr>
    </table></td>
    <TD align="center"><table border="0" cellpadding="2" cellspacing="0" style="border-collapse: collapse" bordercolor="#111111">
      <tr>
        <td rowSpan=3 align="center"><FONT face=Arial size=4 ID="QB_TQ">Ly</FONT></td>
        <td align="center"><FONT face=Arial size=3 ID="QB_H6">▬▬<SPAN ID="QB_H6C">▬▬</SPAN>▬▬</FONT></td>
        <td rowSpan=3 align="center"><FONT face=Arial size=4 ID="QB_TH">Hỏa</FONT></td>
      </tr>
      <tr><td align="center"><FONT face=Arial size=3 ID="QB_H5">▬▬<SPAN ID="QB_H5C">▬▬</SPAN>▬▬</FONT></td></tr>
      <tr><td align="center"><FONT face=Arial size=3 ID="QB_H4">▬▬<SPAN ID="QB_H4C">▬▬</SPAN>▬▬</FONT></td></tr>
      <tr>
        <td rowSpan=3 align="center"><FONT face=Arial size=4 ID="QB_HQ">Ly</FONT></td>
        <td align="center"><FONT face=Arial size=3 ID="QB_H3">▬▬<SPAN ID="QB_H3C">▬▬</SPAN>▬▬</FONT></td>
        <td rowSpan=3 align="center"><FONT face=Arial size=4 ID="QB_HH">Hỏa</FONT></td>
      </tr>
      <tr><td align="center"><FONT face=Arial size=3 ID="QB_H2">▬▬<SPAN ID="QB_H2C">▬▬</SPAN>▬▬</FONT></td></tr>
      <tr><td align="center"><FONT face=Arial size=3 ID="QB_H1">▬▬<SPAN ID="QB_H1C">▬▬</SPAN>▬▬</FONT></td></tr>
    </table></td>
  </TR>
  <TR>
    <TD colSpan=4 align="center"><TABLE border="0" cellSpacing="0" style="visibility:hidden" id="MaiHoaGiai">
      <TR align="center">
        <!-- Không vong luận -->
        <TD><TABLE border="0" cellSpacing="0" style="visibility:hidden" id="kv_luan">
          <TR>
            <TD align="center">
              <FONT face=Arial size=4>Năm </FONT><FONT face=Arial size=4 ID="m_nam">xx</FONT><FONT face=Arial size=4> -
                <a href=javascript:XemCanChi("m_nam_cc")></FONT><FONT face=Arial size=4 color=blue ID="m_nam_cc">cc</FONT></a>
              <FONT face=Arial size=4>, không vong là </FONT><FONT face=Arial size=4 color=blue ID="m_nam_kv">kv</FONT><FONT face=Arial size=4>;</FONT>
            </TD>
          </TR>
          <TR>
            <TD align="center">
              <FONT face=Arial size=4>Tiết </FONT><FONT face=Arial size=4 ID="m_tiet">xx</FONT><FONT face=Arial size=4> -
                <a href=javascript:XemCanChi("m_tiet_cc")></FONT><FONT face=Arial size=4 color=blue ID="m_tiet_cc">cc</FONT></a>
              <FONT face=Arial size=4>, không vong là </FONT><FONT face=Arial size=4 color=blue ID="m_tiet_kv">kv</FONT><FONT face=Arial size=4>;</FONT>
            </TD>
          </TR>
          <TR>
            <TD align="center">
              <FONT face=Arial size=4>Ngày </FONT><FONT face=Arial size=4 ID="m_nhat">xx</FONT><FONT face=Arial size=4> -
                <a href=javascript:XemCanChi("m_nhat_cc")></FONT><FONT face=Arial size=4 color=blue ID="m_nhat_cc">cc</FONT></a>
              <FONT face=Arial size=4>, không vong là </FONT><FONT face=Arial size=4 color=blue ID="m_nhat_kv">kv</FONT><FONT face=Arial size=4>;</FONT>
            </TD>
          </TR>
          <TR>
            <TD align="center">
              <FONT face=Arial size=4>Giờ </FONT><FONT face=Arial size=4 ID="m_thoi">xx</FONT><FONT face=Arial size=4> -
                <a href=javascript:XemCanChi("m_thoi_cc")></</FONT><FONT face=Arial size=4 color=blue ID="m_thoi_cc">cc</FONT></a>
              <FONT face=Arial size=4>, không vong là </FONT><FONT face=Arial size=4 color=blue ID="m_thoi_kv">kv</FONT><FONT face=Arial size=4>;</FONT>
            </TD>
          </TR>
          <TR>
            <TD align="center">
              <FONT face=Arial size=4>Ngoài ra, gặp ngày can </FONT><FONT face=Arial size=4 color=blue ID="m_ngay_cc">cc</FONT>
              <FONT face=Arial size=4>, giờ triệt lộ không vong là </FONT><FONT face=Arial size=4 color=blue ID="m_gio_kv">kv</FONT><FONT face=Arial size=4>.</FONT>
            </TD>
          </TR>
        </TABLE></TD>
      </TR>
      <tr>
        <TD align="center"><hr></TD>
      </tr>
	  

      <!-- Luận giải -->
      <TR>
        <TD align="center">
          <FONT face=Arial size=4 color=blue ID="m_haodong">cc</FONT><FONT face=Arial size=4>; luận đoán dựa vào kết quả sau:</FONT>
        </TD>
      </TR>
      <TR>
        <TD align="center">
          <LI><FONT face=Arial size=4>Bổn quẻ là </FONT><FONT face=Arial size=4 color=blue ID="m_bonQue">cc</FONT><FONT face=Arial size=4 ID="l_bonQue">luan</FONT><FONT face=Arial size=4>;</FONT></LI>
        </TD>
      </TR>
      <TR>
        <TD align="center">
          <LI><FONT face=Arial size=4>giữa thể và hỗ là </FONT><FONT face=Arial size=4 color=blue ID="m_theHo">cc</FONT><FONT face=Arial size=4> tức </FONT><FONT face=Arial size=4 ID="l_theHo">luan</FONT><FONT face=Arial size=4>;</FONT></LI>
        </TD>
      </TR>
      <TR>
        <TD align="center">
          <LI><FONT face=Arial size=4>giữa dụng và hỗ là </FONT><FONT face=Arial size=4 color=blue ID="m_dungHo">cc</FONT><FONT face=Arial size=4> tức </FONT><FONT face=Arial size=4 ID="l_dungHo">luan</FONT><FONT face=Arial size=4>;</FONT></LI>
        </TD>
      </TR>
      <TR>
        <TD align="center">
          <LI><FONT face=Arial size=4>riêng hỗ quẻ là </FONT><FONT face=Arial size=4 color=blue ID="m_hoQue">cc</FONT><FONT face=Arial size=4 ID="l_hoQue">luan</FONT><FONT face=Arial size=4>;</FONT></LI>
        </TD>
      </TR>
      <TR>
        <TD align="center">
          <LI><FONT face=Arial size=4>và biến quẻ là </FONT>
		  <FONT face=Arial size=4 color=blue ID="m_bienQue">cc</FONT>
		  <FONT face=Arial size=4 ID="l_bienQue">luan</FONT>
		  <FONT face=Arial size=4>.</FONT></LI>
        </TD>
      </TR>
      <TR>
        <TD align="center">
          <LI><FONT face=Arial size=4>Tổng số quái (Bổn + Hỗ + Biến) là </FONT><FONT face=Arial size=4 color=blue ID="m_tongSo">cc</FONT><FONT face=Arial size=4>.</FONT></LI>
        </TD>
      </TR>
    </TABLE></TD>
  </TR>
  <TR>
    <td colSpan=4 align="center"><table border="0" cellpadding="3" cellspacing="0">
      <th colSpan=7>
        <FONT face=Arial size=4 color=blue>Ngũ Hành trong Tứ Thời</FONT>
      </th>
      <tr>
        <TD align=center><FONT face=Arial size=4><B>Mùa</B></FONT></TD>
        <TD align=center><FONT face=Arial size=4><B>Tiết</B></FONT></TD>
        <TD align=center><FONT face=Arial size=4><B>Vượng</B></FONT></TD>
        <TD align=center><FONT face=Arial size=4><B>Tướng</B></FONT></TD>
        <TD align=center><FONT face=Arial size=4><B>Hưu</B></FONT></TD>
        <TD align=center><FONT face=Arial size=4><B>Tù</B></FONT></TD>
        <TD align=center><FONT face=Arial size=4><B>Tử</B></FONT></TD>
      </tr>
      <tr>
        <TD colSpan=7><hr></TD>
      </tr>
      <tr>
        <TD align=center><FONT face=Arial size=4><B>Xuân</B></FONT></TD>
        <TD align=center><FONT face=Arial size=4 color=green>1 2</FONT></TD>
        <TD align=center><FONT face=Arial size=4>Mộc</FONT></TD>
        <TD align=center><FONT face=Arial size=4>Hỏa</FONT></TD>
        <TD align=center><FONT face=Arial size=4>Thủy</FONT></TD>
        <TD align=center><FONT face=Arial size=4>Kim</FONT></TD>
        <TD align=center><FONT face=Arial size=4>Thổ</FONT></TD>
      </tr>
      <tr>
        <TD align=center><FONT face=Arial size=4><B>Hạ</B></FONT></TD>
        <TD align=center><FONT face=Arial size=4 color=red>4 5</FONT></TD>
        <TD align=center><FONT face=Arial size=4>Hỏa</FONT></TD>
        <TD align=center><FONT face=Arial size=4>Thổ</FONT></TD>
        <TD align=center><FONT face=Arial size=4>Mộc</FONT></TD>
        <TD align=center><FONT face=Arial size=4>Thủy</FONT></TD>
        <TD align=center><FONT face=Arial size=4>Kim</FONT></TD>
      </tr>
      <tr>
        <TD align=center><FONT face=Arial size=4><B>Thu</B></FONT></TD>
        <TD align=center><FONT face=Arial size=4 color=blue>7 8</FONT></TD>
        <TD align=center><FONT face=Arial size=4>Kim</FONT></TD>
        <TD align=center><FONT face=Arial size=4>Thủy</FONT></TD>
        <TD align=center><FONT face=Arial size=4>Thổ</FONT></TD>
        <TD align=center><FONT face=Arial size=4>Hỏa</FONT></TD>
        <TD align=center><FONT face=Arial size=4>Mộc</FONT></TD>
      </tr>
      <tr>
        <TD align=center><FONT face=Arial size=4><B>Đông</B></FONT></TD>
        <TD align=center><FONT face=Arial size=4 color=black>10 11</FONT></TD>
        <TD align=center><FONT face=Arial size=4>Thủy</FONT></TD>
        <TD align=center><FONT face=Arial size=4>Mộc</FONT></TD>
        <TD align=center><FONT face=Arial size=4>Kim</FONT></TD>
        <TD align=center><FONT face=Arial size=4>Thổ</FONT></TD>
        <TD align=center><FONT face=Arial size=4>Hỏa</FONT></TD>
      </tr>
      <tr>
        <TD align=center><FONT face=Arial size=4><B>Tứ Quý</B></FONT></TD>
        <TD align=center><FONT face=Arial size=4 color=brown>3,6,9,12</FONT></TD>
        <TD align=center><FONT face=Arial size=4>Thổ</FONT></TD>
        <TD align=center><FONT face=Arial size=4>Kim</FONT></TD>
        <TD align=center><FONT face=Arial size=4>Hỏa</FONT></TD>
        <TD align=center><FONT face=Arial size=4>Mộc</FONT></TD>
        <TD align=center><FONT face=Arial size=4>Thủy</FONT></TD>
      </tr>
    </table></td>
  </TR>
</TABLE>

</center>
<br />

<br class="clr" />

	</div>
</body></html>